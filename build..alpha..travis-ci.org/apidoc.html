<div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a

        href="https://github.com/macbre/phantomas#readme"

    >phantomas (v1.18.0)</a>
</h1>
<h4>PhantomJS-based web performance metrics collector</h4>
<div class="apidocSectionDiv"><a
    href="#apidoc.tableOfContents"
    id="apidoc.tableOfContents"
><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.phantomas">module phantomas</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.phantomas">
            function <span class="apidocSignatureSpan"></span>phantomas
            <span class="apidocSignatureSpan">(params)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.collection">
            function <span class="apidocSignatureSpan">phantomas.</span>collection
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.engines">
            function <span class="apidocSignatureSpan">phantomas.</span>engines
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.ipc">
            function <span class="apidocSignatureSpan">phantomas.</span>ipc
            <span class="apidocSignatureSpan">(stream)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.stats">
            function <span class="apidocSignatureSpan">phantomas.</span>stats
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">phantomas.</span>ansicolors</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">phantomas.</span>collection.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">phantomas.</span>engines.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">phantomas.</span>fast_stats</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">phantomas.</span>ipc.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">phantomas.</span>metadata</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">phantomas.</span>optimist_config_file</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">phantomas.</span>pads</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">phantomas.</span>phantomas.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">phantomas.</span>stats.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">phantomas.</span>path</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">phantomas.</span>version</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.phantomas.ansicolors">module phantomas.ansicolors</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.ansicolors.bgBlack">
            function <span class="apidocSignatureSpan">phantomas.ansicolors.</span>bgBlack
            <span class="apidocSignatureSpan">(s)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.ansicolors.bgBlue">
            function <span class="apidocSignatureSpan">phantomas.ansicolors.</span>bgBlue
            <span class="apidocSignatureSpan">(s)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.ansicolors.bgBrightBlack">
            function <span class="apidocSignatureSpan">phantomas.ansicolors.</span>bgBrightBlack
            <span class="apidocSignatureSpan">(s)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.ansicolors.bgBrightBlue">
            function <span class="apidocSignatureSpan">phantomas.ansicolors.</span>bgBrightBlue
            <span class="apidocSignatureSpan">(s)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.ansicolors.bgBrightCyan">
            function <span class="apidocSignatureSpan">phantomas.ansicolors.</span>bgBrightCyan
            <span class="apidocSignatureSpan">(s)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.ansicolors.bgBrightGreen">
            function <span class="apidocSignatureSpan">phantomas.ansicolors.</span>bgBrightGreen
            <span class="apidocSignatureSpan">(s)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.ansicolors.bgBrightMagenta">
            function <span class="apidocSignatureSpan">phantomas.ansicolors.</span>bgBrightMagenta
            <span class="apidocSignatureSpan">(s)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.ansicolors.bgBrightRed">
            function <span class="apidocSignatureSpan">phantomas.ansicolors.</span>bgBrightRed
            <span class="apidocSignatureSpan">(s)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.ansicolors.bgBrightWhite">
            function <span class="apidocSignatureSpan">phantomas.ansicolors.</span>bgBrightWhite
            <span class="apidocSignatureSpan">(s)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.ansicolors.bgBrightYellow">
            function <span class="apidocSignatureSpan">phantomas.ansicolors.</span>bgBrightYellow
            <span class="apidocSignatureSpan">(s)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.ansicolors.bgCyan">
            function <span class="apidocSignatureSpan">phantomas.ansicolors.</span>bgCyan
            <span class="apidocSignatureSpan">(s)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.ansicolors.bgGreen">
            function <span class="apidocSignatureSpan">phantomas.ansicolors.</span>bgGreen
            <span class="apidocSignatureSpan">(s)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.ansicolors.bgMagenta">
            function <span class="apidocSignatureSpan">phantomas.ansicolors.</span>bgMagenta
            <span class="apidocSignatureSpan">(s)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.ansicolors.bgRed">
            function <span class="apidocSignatureSpan">phantomas.ansicolors.</span>bgRed
            <span class="apidocSignatureSpan">(s)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.ansicolors.bgWhite">
            function <span class="apidocSignatureSpan">phantomas.ansicolors.</span>bgWhite
            <span class="apidocSignatureSpan">(s)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.ansicolors.bgYellow">
            function <span class="apidocSignatureSpan">phantomas.ansicolors.</span>bgYellow
            <span class="apidocSignatureSpan">(s)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.ansicolors.black">
            function <span class="apidocSignatureSpan">phantomas.ansicolors.</span>black
            <span class="apidocSignatureSpan">(s)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.ansicolors.blue">
            function <span class="apidocSignatureSpan">phantomas.ansicolors.</span>blue
            <span class="apidocSignatureSpan">(s)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.ansicolors.brightBlack">
            function <span class="apidocSignatureSpan">phantomas.ansicolors.</span>brightBlack
            <span class="apidocSignatureSpan">(s)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.ansicolors.brightBlue">
            function <span class="apidocSignatureSpan">phantomas.ansicolors.</span>brightBlue
            <span class="apidocSignatureSpan">(s)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.ansicolors.brightCyan">
            function <span class="apidocSignatureSpan">phantomas.ansicolors.</span>brightCyan
            <span class="apidocSignatureSpan">(s)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.ansicolors.brightGreen">
            function <span class="apidocSignatureSpan">phantomas.ansicolors.</span>brightGreen
            <span class="apidocSignatureSpan">(s)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.ansicolors.brightMagenta">
            function <span class="apidocSignatureSpan">phantomas.ansicolors.</span>brightMagenta
            <span class="apidocSignatureSpan">(s)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.ansicolors.brightRed">
            function <span class="apidocSignatureSpan">phantomas.ansicolors.</span>brightRed
            <span class="apidocSignatureSpan">(s)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.ansicolors.brightWhite">
            function <span class="apidocSignatureSpan">phantomas.ansicolors.</span>brightWhite
            <span class="apidocSignatureSpan">(s)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.ansicolors.brightYellow">
            function <span class="apidocSignatureSpan">phantomas.ansicolors.</span>brightYellow
            <span class="apidocSignatureSpan">(s)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.ansicolors.cyan">
            function <span class="apidocSignatureSpan">phantomas.ansicolors.</span>cyan
            <span class="apidocSignatureSpan">(s)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.ansicolors.disable">
            function <span class="apidocSignatureSpan">phantomas.ansicolors.</span>disable
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.ansicolors.green">
            function <span class="apidocSignatureSpan">phantomas.ansicolors.</span>green
            <span class="apidocSignatureSpan">(s)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.ansicolors.magenta">
            function <span class="apidocSignatureSpan">phantomas.ansicolors.</span>magenta
            <span class="apidocSignatureSpan">(s)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.ansicolors.red">
            function <span class="apidocSignatureSpan">phantomas.ansicolors.</span>red
            <span class="apidocSignatureSpan">(s)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.ansicolors.white">
            function <span class="apidocSignatureSpan">phantomas.ansicolors.</span>white
            <span class="apidocSignatureSpan">(s)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.ansicolors.yellow">
            function <span class="apidocSignatureSpan">phantomas.ansicolors.</span>yellow
            <span class="apidocSignatureSpan">(s)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">phantomas.ansicolors.</span>close</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">phantomas.ansicolors.</span>open</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.phantomas.collection">module phantomas.collection</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.collection.collection">
            function <span class="apidocSignatureSpan">phantomas.</span>collection
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.phantomas.collection.prototype">module phantomas.collection.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.collection.prototype.forEach">
            function <span class="apidocSignatureSpan">phantomas.collection.prototype.</span>forEach
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.collection.prototype.getLength">
            function <span class="apidocSignatureSpan">phantomas.collection.prototype.</span>getLength
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.collection.prototype.has">
            function <span class="apidocSignatureSpan">phantomas.collection.prototype.</span>has
            <span class="apidocSignatureSpan">(item)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.collection.prototype.push">
            function <span class="apidocSignatureSpan">phantomas.collection.prototype.</span>push
            <span class="apidocSignatureSpan">(item)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.collection.prototype.sort">
            function <span class="apidocSignatureSpan">phantomas.collection.prototype.</span>sort
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.phantomas.engines">module phantomas.engines</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.engines.engines">
            function <span class="apidocSignatureSpan">phantomas.</span>engines
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.phantomas.engines.prototype">module phantomas.engines.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.engines.prototype.getEngine">
            function <span class="apidocSignatureSpan">phantomas.engines.prototype.</span>getEngine
            <span class="apidocSignatureSpan">(engine)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.engines.prototype.getEngines">
            function <span class="apidocSignatureSpan">phantomas.engines.prototype.</span>getEngines
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.engines.prototype.registerEngine">
            function <span class="apidocSignatureSpan">phantomas.engines.prototype.</span>registerEngine
            <span class="apidocSignatureSpan">(engineName)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.engines.prototype.run">
            function <span class="apidocSignatureSpan">phantomas.engines.prototype.</span>run
            <span class="apidocSignatureSpan">(scriptFile)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.phantomas.fast_stats">module phantomas.fast_stats</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.fast_stats.Stats">
            function <span class="apidocSignatureSpan">phantomas.fast_stats.</span>Stats
            <span class="apidocSignatureSpan">(c)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.phantomas.ipc">module phantomas.ipc</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.ipc.ipc">
            function <span class="apidocSignatureSpan">phantomas.</span>ipc
            <span class="apidocSignatureSpan">(stream)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.phantomas.ipc.prototype">module phantomas.ipc.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.ipc.prototype.init">
            function <span class="apidocSignatureSpan">phantomas.ipc.prototype.</span>init
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.ipc.prototype.on">
            function <span class="apidocSignatureSpan">phantomas.ipc.prototype.</span>on
            <span class="apidocSignatureSpan">(event, fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.ipc.prototype.parse">
            function <span class="apidocSignatureSpan">phantomas.ipc.prototype.</span>parse
            <span class="apidocSignatureSpan">(data)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.ipc.prototype.setEventEmitter">
            function <span class="apidocSignatureSpan">phantomas.ipc.prototype.</span>setEventEmitter
            <span class="apidocSignatureSpan">(emitter)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.phantomas.optimist_config_file">module phantomas.optimist_config_file</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.optimist_config_file.alias">
            function <span class="apidocSignatureSpan">phantomas.optimist_config_file.</span>alias
            <span class="apidocSignatureSpan">(x, y)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.optimist_config_file.boolean">
            function <span class="apidocSignatureSpan">phantomas.optimist_config_file.</span>boolean
            <span class="apidocSignatureSpan">(bools)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.optimist_config_file.check">
            function <span class="apidocSignatureSpan">phantomas.optimist_config_file.</span>check
            <span class="apidocSignatureSpan">(f)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.optimist_config_file.default">
            function <span class="apidocSignatureSpan">phantomas.optimist_config_file.</span>default
            <span class="apidocSignatureSpan">(key, value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.optimist_config_file.demand">
            function <span class="apidocSignatureSpan">phantomas.optimist_config_file.</span>demand
            <span class="apidocSignatureSpan">(keys)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.optimist_config_file.describe">
            function <span class="apidocSignatureSpan">phantomas.optimist_config_file.</span>describe
            <span class="apidocSignatureSpan">(opt)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.optimist_config_file.header">
            function <span class="apidocSignatureSpan">phantomas.optimist_config_file.</span>header
            <span class="apidocSignatureSpan">(s)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.optimist_config_file.help">
            function <span class="apidocSignatureSpan">phantomas.optimist_config_file.</span>help
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.optimist_config_file.option">
            function <span class="apidocSignatureSpan">phantomas.optimist_config_file.</span>option
            <span class="apidocSignatureSpan">(key, opt)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.optimist_config_file.options">
            function <span class="apidocSignatureSpan">phantomas.optimist_config_file.</span>options
            <span class="apidocSignatureSpan">(key, opt)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.optimist_config_file.parse">
            function <span class="apidocSignatureSpan">phantomas.optimist_config_file.</span>parse
            <span class="apidocSignatureSpan">(args)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.optimist_config_file.setConfigFile">
            function <span class="apidocSignatureSpan">phantomas.optimist_config_file.</span>setConfigFile
            <span class="apidocSignatureSpan">(configFileParam)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.optimist_config_file.showHelp">
            function <span class="apidocSignatureSpan">phantomas.optimist_config_file.</span>showHelp
            <span class="apidocSignatureSpan">(fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.optimist_config_file.string">
            function <span class="apidocSignatureSpan">phantomas.optimist_config_file.</span>string
            <span class="apidocSignatureSpan">(strings)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.optimist_config_file.usage">
            function <span class="apidocSignatureSpan">phantomas.optimist_config_file.</span>usage
            <span class="apidocSignatureSpan">(msg, opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.optimist_config_file.wrap">
            function <span class="apidocSignatureSpan">phantomas.optimist_config_file.</span>wrap
            <span class="apidocSignatureSpan">(cols)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">phantomas.optimist_config_file.</span>argv</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.phantomas.pads">module phantomas.pads</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.pads.lpad">
            function <span class="apidocSignatureSpan">phantomas.pads.</span>lpad
            <span class="apidocSignatureSpan">(str, len)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.pads.rpad">
            function <span class="apidocSignatureSpan">phantomas.pads.</span>rpad
            <span class="apidocSignatureSpan">(str, len)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.phantomas.phantomas">module phantomas.phantomas</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.phantomas.phantomas">
            function <span class="apidocSignatureSpan">phantomas.</span>phantomas
            <span class="apidocSignatureSpan">(params)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">phantomas.phantomas.</span>version</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.phantomas.phantomas.prototype">module phantomas.phantomas.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.phantomas.prototype.addCoreModule">
            function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>addCoreModule
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.phantomas.prototype.addExtension">
            function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>addExtension
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.phantomas.prototype.addModule">
            function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>addModule
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.phantomas.prototype.addModuleInDir">
            function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>addModuleInDir
            <span class="apidocSignatureSpan">(dir, name)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.phantomas.prototype.addOffender">
            function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>addOffender
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.phantomas.prototype.addToAvgMetric">
            function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>addToAvgMetric
            <span class="apidocSignatureSpan">(name, value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.phantomas.prototype.echo">
            function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>echo
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.phantomas.prototype.emit">
            function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>emit
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.phantomas.prototype.emitInternal">
            function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>emitInternal
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.phantomas.prototype.getMetric">
            function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>getMetric
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.phantomas.prototype.getParam">
            function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>getParam
            <span class="apidocSignatureSpan">(key, defValue, typeCheck)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.phantomas.prototype.getPublicWrapper">
            function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>getPublicWrapper
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.phantomas.prototype.getSource">
            function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>getSource
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.phantomas.prototype.getVersion">
            function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>getVersion
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.phantomas.prototype.incrMetric">
            function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>incrMetric
            <span class="apidocSignatureSpan">(name, incr)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.phantomas.prototype.initLoadingProgress">
            function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>initLoadingProgress
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.phantomas.prototype.listExtensions">
            function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>listExtensions
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.phantomas.prototype.listModules">
            function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>listModules
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.phantomas.prototype.listModulesInDir">
            function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>listModulesInDir
            <span class="apidocSignatureSpan">(modulesDir)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.phantomas.prototype.log">
            function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>log
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.phantomas.prototype.on">
            function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>on
            <span class="apidocSignatureSpan">(ev, fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.phantomas.prototype.onAlert">
            function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>onAlert
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.phantomas.prototype.onCallback">
            function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>onCallback
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.phantomas.prototype.onConfirm">
            function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>onConfirm
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.phantomas.prototype.onConsoleMessage">
            function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>onConsoleMessage
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.phantomas.prototype.onError">
            function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>onError
            <span class="apidocSignatureSpan">(msg, trace)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.phantomas.prototype.onInitialized">
            function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>onInitialized
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.phantomas.prototype.onLoadFinished">
            function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>onLoadFinished
            <span class="apidocSignatureSpan">(status)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.phantomas.prototype.onLoadStarted">
            function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>onLoadStarted
            <span class="apidocSignatureSpan">(url, isFrame)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.phantomas.prototype.onPrompt">
            function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>onPrompt
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.phantomas.prototype.onResourceReceived">
            function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>onResourceReceived
            <span class="apidocSignatureSpan">(res)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.phantomas.prototype.onResourceRequested">
            function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>onResourceRequested
            <span class="apidocSignatureSpan">(res, request)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.phantomas.prototype.once">
            function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>once
            <span class="apidocSignatureSpan">(ev, fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.phantomas.prototype.proxy">
            function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>proxy
            <span class="apidocSignatureSpan">(fn, scope)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.phantomas.prototype.report">
            function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>report
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.phantomas.prototype.require">
            function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>require
            <span class="apidocSignatureSpan">(module)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.phantomas.prototype.run">
            function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>run
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.phantomas.prototype.runScript">
            function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>runScript
            <span class="apidocSignatureSpan">(script, args, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.phantomas.prototype.setMarkerMetric">
            function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>setMarkerMetric
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.phantomas.prototype.setMetric">
            function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>setMetric
            <span class="apidocSignatureSpan">(name, value, isFinal)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.phantomas.prototype.setMetricEvaluate">
            function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>setMetricEvaluate
            <span class="apidocSignatureSpan">(name, fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.phantomas.prototype.tearDown">
            function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>tearDown
            <span class="apidocSignatureSpan">(exitCode, msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.phantomas.prototype.tmpdir">
            function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>tmpdir
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.phantomas.stats">module phantomas.stats</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.stats.stats">
            function <span class="apidocSignatureSpan">phantomas.</span>stats
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.phantomas.stats.prototype">module phantomas.stats.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.stats.prototype.getAvailableStats">
            function <span class="apidocSignatureSpan">phantomas.stats.prototype.</span>getAvailableStats
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.stats.prototype.getMetricStats">
            function <span class="apidocSignatureSpan">phantomas.stats.prototype.</span>getMetricStats
            <span class="apidocSignatureSpan">(metricName)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.stats.prototype.getMetrics">
            function <span class="apidocSignatureSpan">phantomas.stats.prototype.</span>getMetrics
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.phantomas.stats.prototype.pushMetrics">
            function <span class="apidocSignatureSpan">phantomas.stats.prototype.</span>pushMetrics
            <span class="apidocSignatureSpan">(metrics)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.phantomas" id="apidoc.module.phantomas">module phantomas</a></h1>


    <h2>
        <a href="#apidoc.element.phantomas.phantomas" id="apidoc.element.phantomas.phantomas">
        function <span class="apidocSignatureSpan"></span>phantomas
        <span class="apidocSignatureSpan">(params)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">phantomas = function (params) {
	var fs = require(&#x27;fs&#x27;);

	// store script CLI parameters
	this.params = params;

	// --url=http://example.com
	this.url = params.url;

	// --format
	this.format = params.format;

	// --verbose
	this.verboseMode = params.verbose === true;

	// --silent
	this.silentMode = params.silent === true;

	// --timeout (in seconds)
	this.timeout = (params.timeout &#x3e; 0 &#x26;&#x26; parseInt(params.timeout, 10)) || 15;

	// --modules=localStorage,cookies
	this.modules = (typeof params.modules === &#x27;string&#x27;) ? params.modules.split(&#x27;,&#x27;) : [];

	// --include-dirs=dirOne,dirTwo
	this.includeDirs = (typeof params[&#x27;include-dirs&#x27;] === &#x27;string&#x27;) ? params[&#x27;include-dirs&#x27;].split(&#x27;,&#x27;) : [];

	// --skip-modules=jQuery,domQueries
	this.skipModules = (typeof params[&#x27;skip-modules&#x27;] === &#x27;string&#x27;) ? params[&#x27;skip-modules&#x27;].split(&#x27;,&#x27;) : [];

	// disable JavaScript on the page that will be loaded
	this.disableJs = params[&#x27;disable-js&#x27;] === true;

	// setup the stuff
	this.emitter = new(this.require(&#x27;events&#x27;).EventEmitter)();
	this.emitter.setMaxListeners(200);
	this.ipc = require(&#x27;./ipc&#x27;);

	this.util = this.require(&#x27;util&#x27;);

	this.page = require(&#x27;webpage&#x27;).create();

	// store the timestamp of responseEnd event
	// should be bound before modules
	this.on(&#x27;responseEnd&#x27;, this.proxy(function() {
		this.responseEndTime = Date.now();
	}));

	// setup logger
	var Logger = require(&#x27;./logger&#x27;),
		logFile = params.log || &#x27;&#x27;;

	this.logger = new Logger(logFile, {
		beVerbose: this.verboseMode,
		beSilent: this.silentMode
	});

	// detect phantomas working directory
	if (typeof module.dirname !== &#x27;undefined&#x27;) {
		this.dir = module.dirname.replace(/core$/, &#x27;&#x27;);
	} else if (typeof slimer !== &#x27;undefined&#x27;) {
		var args = require(&#x27;system&#x27;).args;
		this.dir = fs.dirname(args[0]).replace(/scripts$/, &#x27;&#x27;);
	}

	this.log(&#x27;phantomas v%s: %s&#x27;, this.getVersion(), this.dir);
	this.log(&#x27;Options: %j&#x27;, this.params);

	// queue of jobs that needs to be done before report can be generated
	var Queue = require(&#x27;../lib/simple-queue&#x27;);
	this.reportQueue = new Queue();

	// set up results wrapper
	var Results = require(&#x27;./results&#x27;);
	this.results = new Results();

	this.results.setGenerator(&#x27;phantomas v&#x27; + this.getVersion());
	this.results.setUrl(this.url);

	this.metricsAvgStorage = {};

	// allow asserts to be provided via command-line options (#128)
	Object.keys(this.params).forEach(function(param) {
		var value = parseFloat(this.params[param]),
			name;

		if (!isNaN(value) &#x26;&#x26; param.indexOf(&#x27;assert-&#x27;) === 0) {
			name = param.substr(7);

			if (name.length &#x3e; 0) {
				this.results.setAssert(name, value);
			}
		}
	}, this);

	// load core modules
	this.log(&#x27;Loading: core modules...&#x27;);
	this.addCoreModule(&#x27;navigationTiming&#x27;);
	this.addCoreModule(&#x27;requestsMonitor&#x27;);
	this.addCoreModule(&#x27;timeToFirstByte&#x27;);

	// load extensions
	this.log(&#x27;Loading: extensions...&#x27;);
	var extensions = this.listExtensions();
	extensions.forEach(this.addExtension, this);

	// load modules
	this.log(&#x27;Loading: modules...&#x27;);
	var modules = (this.modules.length &#x3e; 0) ? this.modules : this.listModules();
	modules.forEach(this.addModule, this);

	// load 3rd party modules
	this.log(&#x27;Loading: 3rd party modules...&#x27;);
	this.includeDirs.forEach(function(dirName) {
		var dirPath = fs.absolute(dirName),
			dirModules = this.listModulesInDir(dirPath);

		dirModules.forEach(function(moduleName) {
			this.addModuleInDir(dirPath, moduleName);
		}, this);

	}, this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.collection" id="apidoc.element.phantomas.collection">
        function <span class="apidocSignatureSpan">phantomas.</span>collection
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function collection() {
	<span class="apidocCodeCommentSpan">/* jshint validthis: true */
</span>	this.items = {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.engines" id="apidoc.element.phantomas.engines">
        function <span class="apidocSignatureSpan">phantomas.</span>engines
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function engines(options) {
	<span class="apidocCodeCommentSpan">/* jshint validthis: true */
</span>	this.options = options;

	//--debug can be either &#x27;true&#x27; or &#x27;false&#x27;
	this.options.debug = (this.options.debug === true) ? &#x27;true&#x27; : &#x27;false&#x27;;

	// engines storage
	this.engines = {};
	[
		// the first one is a default one
		&#x27;webkit&#x27;,
		&#x27;gecko&#x27;
	].forEach(this.registerEngine, this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.ipc" id="apidoc.element.phantomas.ipc">
        function <span class="apidocSignatureSpan">phantomas.</span>ipc
        <span class="apidocSignatureSpan">(stream)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ipc(stream) {
	<span class="apidocCodeCommentSpan">/* jshint validthis: true */
</span>	this.stream = stream;
	this.events = new emitter();

	this.init();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	// emit given event and pass it to CommonJS API via IPC
	emit: function( /* eventName, arg1, arg2, ... */ ) {
		this.emitInternal.apply(this, arguments);

		// pass it via IPC
		var args = Array.prototype.slice.apply(arguments),
			eventName = args.shift(),
			ipc = new this.<span class="apidocCodeKeywordSpan">ipc</span>(eventName);

		ipc.push.apply(ipc, args);
	},

	// emit given event &#x22;internally&#x22;
	emitInternal: function( /* eventName, arg1, arg2, ... */ ) {
		this.log(&#x27;Event %s emitted&#x27;, arguments[0]);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.stats" id="apidoc.element.phantomas.stats">
        function <span class="apidocSignatureSpan">phantomas.</span>stats
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function stats() {
	<span class="apidocCodeCommentSpan">/* jshint validthis: true */
</span>	// use pushMetrics() to add results for each run
	this.metrics = [];
	this.runs = 0;

	// stats to be calculated
	// @see https://github.com/bluesmoon/node-faststats
	this.stats = {
		min: function(values) {
			return values.range()[0];
		},
		max: function(values) {
			return values.range()[1];
		},
		average: function(values) {
			return values.amean().toFixed(2);
		},
		median: function(values) {
			return values.median().toFixed(2);
		},
		stddev: function(values) {
			return values.stddev().toFixed(2);
		}
	};

	this.statsNames = Object.keys(this.stats);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


























</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.phantomas.ansicolors" id="apidoc.module.phantomas.ansicolors">module phantomas.ansicolors</a></h1>


    <h2>
        <a href="#apidoc.element.phantomas.ansicolors.bgBlack" id="apidoc.element.phantomas.ansicolors.bgBlack">
        function <span class="apidocSignatureSpan">phantomas.ansicolors.</span>bgBlack
        <span class="apidocSignatureSpan">(s)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">bgBlack = function (s) {
  return o + s + c;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.ansicolors.bgBlue" id="apidoc.element.phantomas.ansicolors.bgBlue">
        function <span class="apidocSignatureSpan">phantomas.ansicolors.</span>bgBlue
        <span class="apidocSignatureSpan">(s)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">bgBlue = function (s) {
  return o + s + c;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.ansicolors.bgBrightBlack" id="apidoc.element.phantomas.ansicolors.bgBrightBlack">
        function <span class="apidocSignatureSpan">phantomas.ansicolors.</span>bgBrightBlack
        <span class="apidocSignatureSpan">(s)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">bgBrightBlack = function (s) {
  return o + s + c;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.ansicolors.bgBrightBlue" id="apidoc.element.phantomas.ansicolors.bgBrightBlue">
        function <span class="apidocSignatureSpan">phantomas.ansicolors.</span>bgBrightBlue
        <span class="apidocSignatureSpan">(s)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">bgBrightBlue = function (s) {
  return o + s + c;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.ansicolors.bgBrightCyan" id="apidoc.element.phantomas.ansicolors.bgBrightCyan">
        function <span class="apidocSignatureSpan">phantomas.ansicolors.</span>bgBrightCyan
        <span class="apidocSignatureSpan">(s)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">bgBrightCyan = function (s) {
  return o + s + c;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.ansicolors.bgBrightGreen" id="apidoc.element.phantomas.ansicolors.bgBrightGreen">
        function <span class="apidocSignatureSpan">phantomas.ansicolors.</span>bgBrightGreen
        <span class="apidocSignatureSpan">(s)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">bgBrightGreen = function (s) {
  return o + s + c;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.ansicolors.bgBrightMagenta" id="apidoc.element.phantomas.ansicolors.bgBrightMagenta">
        function <span class="apidocSignatureSpan">phantomas.ansicolors.</span>bgBrightMagenta
        <span class="apidocSignatureSpan">(s)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">bgBrightMagenta = function (s) {
  return o + s + c;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.ansicolors.bgBrightRed" id="apidoc.element.phantomas.ansicolors.bgBrightRed">
        function <span class="apidocSignatureSpan">phantomas.ansicolors.</span>bgBrightRed
        <span class="apidocSignatureSpan">(s)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">bgBrightRed = function (s) {
  return o + s + c;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.ansicolors.bgBrightWhite" id="apidoc.element.phantomas.ansicolors.bgBrightWhite">
        function <span class="apidocSignatureSpan">phantomas.ansicolors.</span>bgBrightWhite
        <span class="apidocSignatureSpan">(s)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">bgBrightWhite = function (s) {
  return o + s + c;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.ansicolors.bgBrightYellow" id="apidoc.element.phantomas.ansicolors.bgBrightYellow">
        function <span class="apidocSignatureSpan">phantomas.ansicolors.</span>bgBrightYellow
        <span class="apidocSignatureSpan">(s)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">bgBrightYellow = function (s) {
  return o + s + c;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.ansicolors.bgCyan" id="apidoc.element.phantomas.ansicolors.bgCyan">
        function <span class="apidocSignatureSpan">phantomas.ansicolors.</span>bgCyan
        <span class="apidocSignatureSpan">(s)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">bgCyan = function (s) {
  return o + s + c;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.ansicolors.bgGreen" id="apidoc.element.phantomas.ansicolors.bgGreen">
        function <span class="apidocSignatureSpan">phantomas.ansicolors.</span>bgGreen
        <span class="apidocSignatureSpan">(s)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">bgGreen = function (s) {
  return o + s + c;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.ansicolors.bgMagenta" id="apidoc.element.phantomas.ansicolors.bgMagenta">
        function <span class="apidocSignatureSpan">phantomas.ansicolors.</span>bgMagenta
        <span class="apidocSignatureSpan">(s)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">bgMagenta = function (s) {
  return o + s + c;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.ansicolors.bgRed" id="apidoc.element.phantomas.ansicolors.bgRed">
        function <span class="apidocSignatureSpan">phantomas.ansicolors.</span>bgRed
        <span class="apidocSignatureSpan">(s)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">bgRed = function (s) {
  return o + s + c;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.ansicolors.bgWhite" id="apidoc.element.phantomas.ansicolors.bgWhite">
        function <span class="apidocSignatureSpan">phantomas.ansicolors.</span>bgWhite
        <span class="apidocSignatureSpan">(s)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">bgWhite = function (s) {
  return o + s + c;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.ansicolors.bgYellow" id="apidoc.element.phantomas.ansicolors.bgYellow">
        function <span class="apidocSignatureSpan">phantomas.ansicolors.</span>bgYellow
        <span class="apidocSignatureSpan">(s)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">bgYellow = function (s) {
  return o + s + c;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.ansicolors.black" id="apidoc.element.phantomas.ansicolors.black">
        function <span class="apidocSignatureSpan">phantomas.ansicolors.</span>black
        <span class="apidocSignatureSpan">(s)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">black = function (s) {
  return o + s + c;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.ansicolors.blue" id="apidoc.element.phantomas.ansicolors.blue">
        function <span class="apidocSignatureSpan">phantomas.ansicolors.</span>blue
        <span class="apidocSignatureSpan">(s)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">blue = function (s) {
  return o + s + c;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.ansicolors.brightBlack" id="apidoc.element.phantomas.ansicolors.brightBlack">
        function <span class="apidocSignatureSpan">phantomas.ansicolors.</span>brightBlack
        <span class="apidocSignatureSpan">(s)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">brightBlack = function (s) {
  return o + s + c;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
			// error!
			if (/!$/.test(consoleMsg) || /Error:/.test(consoleMsg)) {
				consoleMsg = colors.brightRed(styles.bright(consoleMsg));
			}
			// label: message
			else if (/^(.*): /.test(consoleMsg)) {
				var idx = consoleMsg.indexOf(&#x27;: &#x27;) + 1;
				consoleMsg = colors.brightGreen(consoleMsg.substr(0, idx)) + colors.<span class="apidocCodeKeywordSpan">brightBlack</span>(consoleMsg
.substr(idx));
			}
			// the rest
			else {
				consoleMsg = colors.brightBlack(consoleMsg);
			}

			if (!beSilent) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.ansicolors.brightBlue" id="apidoc.element.phantomas.ansicolors.brightBlue">
        function <span class="apidocSignatureSpan">phantomas.ansicolors.</span>brightBlue
        <span class="apidocSignatureSpan">(s)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">brightBlue = function (s) {
  return o + s + c;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.ansicolors.brightCyan" id="apidoc.element.phantomas.ansicolors.brightCyan">
        function <span class="apidocSignatureSpan">phantomas.ansicolors.</span>brightCyan
        <span class="apidocSignatureSpan">(s)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">brightCyan = function (s) {
  return o + s + c;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.ansicolors.brightGreen" id="apidoc.element.phantomas.ansicolors.brightGreen">
        function <span class="apidocSignatureSpan">phantomas.ansicolors.</span>brightGreen
        <span class="apidocSignatureSpan">(s)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">brightGreen = function (s) {
  return o + s + c;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
			// error!
			if (/!$/.test(consoleMsg) || /Error:/.test(consoleMsg)) {
				consoleMsg = colors.brightRed(styles.bright(consoleMsg));
			}
			// label: message
			else if (/^(.*): /.test(consoleMsg)) {
				var idx = consoleMsg.indexOf(&#x27;: &#x27;) + 1;
				consoleMsg = colors.<span class="apidocCodeKeywordSpan">brightGreen</span>(consoleMsg.substr(0, idx)) + colors.brightBlack(consoleMsg
.substr(idx));
			}
			// the rest
			else {
				consoleMsg = colors.brightBlack(consoleMsg);
			}

			if (!beSilent) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.ansicolors.brightMagenta" id="apidoc.element.phantomas.ansicolors.brightMagenta">
        function <span class="apidocSignatureSpan">phantomas.ansicolors.</span>brightMagenta
        <span class="apidocSignatureSpan">(s)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">brightMagenta = function (s) {
  return o + s + c;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.ansicolors.brightRed" id="apidoc.element.phantomas.ansicolors.brightRed">
        function <span class="apidocSignatureSpan">phantomas.ansicolors.</span>brightRed
        <span class="apidocSignatureSpan">(s)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">brightRed = function (s) {
  return o + s + c;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

		// log to the console (--verbose)
		if (beVerbose) {
			var consoleMsg = msg;

			// error!
			if (/!$/.test(consoleMsg) || /Error:/.test(consoleMsg)) {
				consoleMsg = colors.<span class="apidocCodeKeywordSpan">brightRed</span>(styles.bright(consoleMsg));
			}
			// label: message
			else if (/^(.*): /.test(consoleMsg)) {
				var idx = consoleMsg.indexOf(&#x27;: &#x27;) + 1;
				consoleMsg = colors.brightGreen(consoleMsg.substr(0, idx)) + colors.brightBlack(consoleMsg.substr(idx));
			}
			// the rest
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.ansicolors.brightWhite" id="apidoc.element.phantomas.ansicolors.brightWhite">
        function <span class="apidocSignatureSpan">phantomas.ansicolors.</span>brightWhite
        <span class="apidocSignatureSpan">(s)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">brightWhite = function (s) {
  return o + s + c;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.ansicolors.brightYellow" id="apidoc.element.phantomas.ansicolors.brightYellow">
        function <span class="apidocSignatureSpan">phantomas.ansicolors.</span>brightYellow
        <span class="apidocSignatureSpan">(s)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">brightYellow = function (s) {
  return o + s + c;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.ansicolors.cyan" id="apidoc.element.phantomas.ansicolors.cyan">
        function <span class="apidocSignatureSpan">phantomas.ansicolors.</span>cyan
        <span class="apidocSignatureSpan">(s)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cyan = function (s) {
  return o + s + c;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.ansicolors.disable" id="apidoc.element.phantomas.ansicolors.disable">
        function <span class="apidocSignatureSpan">phantomas.ansicolors.</span>disable
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function disable() {
	keys.forEach(function(key) {
		colors[key] = nop;
	});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	var isMultiple = Array.isArray(results),
		noColor = (reporterOptions[&#x27;no-color&#x27;] === true);

	function formatSingleRunResults(results) {
		var res = [];

		if (noColor) {
			colors.<span class="apidocCodeKeywordSpan">disable</span>();
		}

		// header
		res.push(results.getGenerator() + &#x27; metrics for &#x3c;&#x27; + results.getUrl() + &#x27;&#x3e;:&#x27;);
		res.push(&#x27;&#x27;);

		// metrics
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.ansicolors.green" id="apidoc.element.phantomas.ansicolors.green">
        function <span class="apidocSignatureSpan">phantomas.ansicolors.</span>green
        <span class="apidocSignatureSpan">(s)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">green = function (s) {
  return o + s + c;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.ansicolors.magenta" id="apidoc.element.phantomas.ansicolors.magenta">
        function <span class="apidocSignatureSpan">phantomas.ansicolors.</span>magenta
        <span class="apidocSignatureSpan">(s)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">magenta = function (s) {
  return o + s + c;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.ansicolors.red" id="apidoc.element.phantomas.ansicolors.red">
        function <span class="apidocSignatureSpan">phantomas.ansicolors.</span>red
        <span class="apidocSignatureSpan">(s)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">red = function (s) {
  return o + s + c;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.ansicolors.white" id="apidoc.element.phantomas.ansicolors.white">
        function <span class="apidocSignatureSpan">phantomas.ansicolors.</span>white
        <span class="apidocSignatureSpan">(s)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">white = function (s) {
  return o + s + c;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.ansicolors.yellow" id="apidoc.element.phantomas.ansicolors.yellow">
        function <span class="apidocSignatureSpan">phantomas.ansicolors.</span>yellow
        <span class="apidocSignatureSpan">(s)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">yellow = function (s) {
  return o + s + c;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.phantomas.collection" id="apidoc.module.phantomas.collection">module phantomas.collection</a></h1>


    <h2>
        <a href="#apidoc.element.phantomas.collection.collection" id="apidoc.element.phantomas.collection.collection">
        function <span class="apidocSignatureSpan">phantomas.</span>collection
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function collection() {
	<span class="apidocCodeCommentSpan">/* jshint validthis: true */
</span>	this.items = {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.phantomas.collection.prototype" id="apidoc.module.phantomas.collection.prototype">module phantomas.collection.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.phantomas.collection.prototype.forEach" id="apidoc.element.phantomas.collection.prototype.forEach">
        function <span class="apidocSignatureSpan">phantomas.collection.prototype.</span>forEach
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">forEach = function (callback) {
		Object.keys(this.items).forEach(function(key) {
			callback(key, this.items[key].cnt);
		}, this);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

	this.results.setGenerator(&#x27;phantomas v&#x27; + this.getVersion());
	this.results.setUrl(this.url);

	this.metricsAvgStorage = {};

	// allow asserts to be provided via command-line options (#128)
	Object.keys(this.params).<span class="apidocCodeKeywordSpan">forEach</span>(function(param) {
		var value = parseFloat(this.params[param]),
			name;

		if (!isNaN(value) &#x26;&#x26; param.indexOf(&#x27;assert-&#x27;) === 0) {
			name = param.substr(7);

			if (name.length &#x3e; 0) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.collection.prototype.getLength" id="apidoc.element.phantomas.collection.prototype.getLength">
        function <span class="apidocSignatureSpan">phantomas.collection.prototype.</span>getLength
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getLength = function () {
		return Object.keys(this.items).length;
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.collection.prototype.has" id="apidoc.element.phantomas.collection.prototype.has">
        function <span class="apidocSignatureSpan">phantomas.collection.prototype.</span>has
        <span class="apidocSignatureSpan">(item)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">has = function (item) {
		return (typeof this.items[item] !== &#x27;undefined&#x27;);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.collection.prototype.push" id="apidoc.element.phantomas.collection.prototype.push">
        function <span class="apidocSignatureSpan">phantomas.collection.prototype.</span>push
        <span class="apidocSignatureSpan">(item)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">push = function (item) {
		if (typeof this.items[item] === &#x27;undefined&#x27;) {
			this.items[item] = {
				cnt: 1
			};
		} else {
			this.items[item].cnt++;
		}
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
			}
			// the rest
			else {
				consoleMsg = colors.brightBlack(consoleMsg);
			}

			if (!beSilent) {
				ipc.<span class="apidocCodeKeywordSpan">push</span>(ts + &#x27; &#x27; + consoleMsg);
			}
		}

		// log to the file (--log)
		if (stream) {
			stream.writeLine(ts + &#x27;: &#x27; + msg);
			stream.flush();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.collection.prototype.sort" id="apidoc.element.phantomas.collection.prototype.sort">
        function <span class="apidocSignatureSpan">phantomas.collection.prototype.</span>sort
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">sort = function () {
		var newItems = {},
			sortedKeys;

		// sort in descending order (by cnt)
		sortedKeys = Object.keys(this.items).sort((function(a, b) {
			return this.items[b].cnt - this.items[a].cnt;
		}).bind(this));

		// build new items dictionary
		sortedKeys.forEach(function(key) {
			newItems[key] = this.items[key];
		}, this);

		this.items = newItems;
		return this;
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
			if (fs.isDirectory(modulesDir + &#x27;/&#x27; + entry) &#x26;&#x26; fs.isFile(modulesDir + &#x27;/&#x27; + entry + &#x27;/&#x27
; + entry + &#x27;.js&#x27;)) {
				modules.push(entry);
			}
		});

		// SlimerJS &#x27;fs.list&#x27; does not order the returned array
		// PhantomJS does that, so be consistent here :)
		return modules.<span class="apidocCodeKeywordSpan">sort</span>();
	},

	// setup polling for loading progress (issue #204)
	// pipe JSON messages over stderr
	initLoadingProgress: function() {
		var currentProgress = false;
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.phantomas.engines" id="apidoc.module.phantomas.engines">module phantomas.engines</a></h1>


    <h2>
        <a href="#apidoc.element.phantomas.engines.engines" id="apidoc.element.phantomas.engines.engines">
        function <span class="apidocSignatureSpan">phantomas.</span>engines
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function engines(options) {
	<span class="apidocCodeCommentSpan">/* jshint validthis: true */
</span>	this.options = options;

	//--debug can be either &#x27;true&#x27; or &#x27;false&#x27;
	this.options.debug = (this.options.debug === true) ? &#x27;true&#x27; : &#x27;false&#x27;;

	// engines storage
	this.engines = {};
	[
		// the first one is a default one
		&#x27;webkit&#x27;,
		&#x27;gecko&#x27;
	].forEach(this.registerEngine, this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.phantomas.engines.prototype" id="apidoc.module.phantomas.engines.prototype">module phantomas.engines.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.phantomas.engines.prototype.getEngine" id="apidoc.element.phantomas.engines.prototype.getEngine">
        function <span class="apidocSignatureSpan">phantomas.engines.prototype.</span>getEngine
        <span class="apidocSignatureSpan">(engine)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getEngine = function (engine) {
	return this.engines[engine];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
engines.prototype.getEngine = function(engine) {
	return this.engines[engine];
};

engines.prototype.run = function(scriptFile) {
	// select the engine
	var engines = this.getEngines(),
		engine = this.<span class="apidocCodeKeywordSpan">getEngine</span>(engines[0]);

	// --engine=[gecko|webkit]
	if (typeof this.options.engine === &#x27;string&#x27;) {
		engine = this.getEngine(this.options.engine);

		if (typeof engine === &#x27;undefined&#x27;) {
			throw &#x27;Engine &#x22;&#x27; + this.options.engine + &#x27;&#x22; not found!&#x27;;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.engines.prototype.getEngines" id="apidoc.element.phantomas.engines.prototype.getEngines">
        function <span class="apidocSignatureSpan">phantomas.engines.prototype.</span>getEngines
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getEngines = function () {
	return Object.keys(this.engines);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

engines.prototype.getEngine = function(engine) {
	return this.engines[engine];
};

engines.prototype.run = function(scriptFile) {
	// select the engine
	var engines = this.<span class="apidocCodeKeywordSpan">getEngines</span>(),
		engine = this.getEngine(engines[0]);

	// --engine=[gecko|webkit]
	if (typeof this.options.engine === &#x27;string&#x27;) {
		engine = this.getEngine(this.options.engine);

		if (typeof engine === &#x27;undefined&#x27;) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.engines.prototype.registerEngine" id="apidoc.element.phantomas.engines.prototype.registerEngine">
        function <span class="apidocSignatureSpan">phantomas.engines.prototype.</span>registerEngine
        <span class="apidocSignatureSpan">(engineName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">registerEngine = function (engineName) {
	var def;

	try {
		def = require(&#x27;./engines/&#x27; + engineName);
		this.engines[engineName] = def;

		debug(&#x27;Engine &#x22;%s&#x22;: %s v%s installed in %s&#x27;, engineName, def.name, def.version, def.path);
	} catch (ex) {
		debug(&#x27;Engine &#x22;%s&#x22;: failed to import - %s&#x27;, engineName, ex);
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.engines.prototype.run" id="apidoc.element.phantomas.engines.prototype.run">
        function <span class="apidocSignatureSpan">phantomas.engines.prototype.</span>run
        <span class="apidocSignatureSpan">(scriptFile)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">run = function (scriptFile) {
	// select the engine
	var engines = this.getEngines(),
		engine = this.getEngine(engines[0]);

	// --engine=[gecko|webkit]
	if (typeof this.options.engine === &#x27;string&#x27;) {
		engine = this.getEngine(this.options.engine);

		if (typeof engine === &#x27;undefined&#x27;) {
			throw &#x27;Engine &#x22;&#x27; + this.options.engine + &#x27;&#x22; not found!&#x27;;
		}
	}
	// PHANTOMAS_ENGINE=gecko phantomas &#x22;http://example.com&#x22;
	else if (typeof process.env.PHANTOMAS_ENGINE === &#x27;string&#x27;) {
		engine = this.getEngine(process.env.PHANTOMAS_ENGINE);

		if (typeof engine === &#x27;undefined&#x27;) {
			throw &#x27;Engine &#x22;&#x27; + process.env.PHANTOMAS_ENGINE + &#x27;&#x22; not found!&#x27;;
		}
	}
	// --gecko / --webkit
	else {
		engines.forEach(function(key) {
			if (this.options[key] === true) {
				engine = this.getEngine(key);
			}
		}, this);
	}

	// customize user agent
	if (typeof this.options[&#x27;user-agent&#x27;] === &#x27;undefined&#x27;) {
		this.options[&#x27;user-agent&#x27;] = &#x22;phantomas/&#x22; + VERSION + &#x22; (&#x22; + engine.getUserAgent() + &#x22;; &#x22; + process.platform + &#x22; &#x22; + process.arch
 + &#x22;)&#x22;;
	}

	// build engine specific command-line arguments
	var engineArgs = [];

	Object.keys(this.options).forEach(function(key) {
		var val = this.options[key],
			nativeOptions = [
				&#x27;cookies-file&#x27;,
				&#x27;debug&#x27;,
				&#x27;ignore-ssl-errors&#x27;,
				&#x27;ssl-protocol&#x27;,
				&#x27;proxy&#x27;,
				&#x27;proxy-auth&#x27;,
				&#x27;proxy-type&#x27;
			];

		if (val === false) {
			return;
		}

		// handle native PhantomJS options (#163)
		// @see http://phantomjs.org/api/command-line.html
		if (nativeOptions.indexOf(key) &#x3e; -1) {
			engineArgs.push(&#x27;--&#x27; + key + &#x27;=&#x27; + val);
		}
	}, this);

	debug(&#x27;Running %s (using %s)&#x27;, scriptFile, engine.name);
	debug(&#x27;Passing phantomas options: %j&#x27;, this.options);
	debug(&#x27;Passing engine options: %j&#x27;, engineArgs);

	// add a script to run
	engineArgs.push(scriptFile);

	// pass JSON encoded options
	engineArgs.push(JSON.stringify(this.options));

	// spawn the process
	var proc;

	if (typeof engine.spawn === &#x27;function&#x27;) {
		debug(&#x27;Using custom spawn function&#x27;);
		proc = engine.spawn(engine.path, engineArgs);
	} else {
		proc = spawn(engine.path, engineArgs, {
			env: process.env
		});
	}

	return proc;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.phantomas.fast_stats" id="apidoc.module.phantomas.fast_stats">module phantomas.fast_stats</a></h1>


    <h2>
        <a href="#apidoc.element.phantomas.fast_stats.Stats" id="apidoc.element.phantomas.fast_stats.Stats">
        function <span class="apidocSignatureSpan">phantomas.fast_stats.</span>Stats
        <span class="apidocSignatureSpan">(c)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Stats(c) {
	this._config = {
		store_data: true
	};

	if (c) {
		for (var k in config_params) {
			if (c.hasOwnProperty(k)) {
				config_params[k](this, c[k]);
			}
		}
	}

	this.reset();

	return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.phantomas.ipc" id="apidoc.module.phantomas.ipc">module phantomas.ipc</a></h1>


    <h2>
        <a href="#apidoc.element.phantomas.ipc.ipc" id="apidoc.element.phantomas.ipc.ipc">
        function <span class="apidocSignatureSpan">phantomas.</span>ipc
        <span class="apidocSignatureSpan">(stream)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ipc(stream) {
	<span class="apidocCodeCommentSpan">/* jshint validthis: true */
</span>	this.stream = stream;
	this.events = new emitter();

	this.init();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	// emit given event and pass it to CommonJS API via IPC
	emit: function( /* eventName, arg1, arg2, ... */ ) {
		this.emitInternal.apply(this, arguments);

		// pass it via IPC
		var args = Array.prototype.slice.apply(arguments),
			eventName = args.shift(),
			ipc = new this.<span class="apidocCodeKeywordSpan">ipc</span>(eventName);

		ipc.push.apply(ipc, args);
	},

	// emit given event &#x22;internally&#x22;
	emitInternal: function( /* eventName, arg1, arg2, ... */ ) {
		this.log(&#x27;Event %s emitted&#x27;, arguments[0]);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.phantomas.ipc.prototype" id="apidoc.module.phantomas.ipc.prototype">module phantomas.ipc.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.phantomas.ipc.prototype.init" id="apidoc.element.phantomas.ipc.prototype.init">
        function <span class="apidocSignatureSpan">phantomas.ipc.prototype.</span>init
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">init = function () {
	var self = this,
		buffer = &#x27;&#x27;;

	this.stream.on(&#x27;data&#x27;, function(data) {
		buffer += data.toString().trim();

		// check for the separator at the of the buffer - parse the data
		if (buffer.substr(-2) === SEPARATOR) {
			self.parse(buffer);
			buffer = &#x27;&#x27;;
		}
	});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	SEPARATOR = &#x22;\xFF\xFF&#x22;;

function ipc(stream) {
	/* jshint validthis: true */
	this.stream = stream;
	this.events = new emitter();

	this.<span class="apidocCodeKeywordSpan">init</span>();
}

ipc.prototype.setEventEmitter = function(emitter) {
	this.events = emitter;
};

ipc.prototype.init = function() {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.ipc.prototype.on" id="apidoc.element.phantomas.ipc.prototype.on">
        function <span class="apidocSignatureSpan">phantomas.ipc.prototype.</span>on
        <span class="apidocSignatureSpan">(event, fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on = function (event, fn) {
	this.events.on(event, fn);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

	this.util = this.require(&#x27;util&#x27;);

	this.page = require(&#x27;webpage&#x27;).create();

	// store the timestamp of responseEnd event
	// should be bound before modules
	this.<span class="apidocCodeKeywordSpan">on</span>(&#x27;responseEnd&#x27;, this.proxy(function() {
		this.responseEndTime = Date.now();
	}));

	// setup logger
	var Logger = require(&#x27;./logger&#x27;),
		logFile = params.log || &#x27;&#x27;;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.ipc.prototype.parse" id="apidoc.element.phantomas.ipc.prototype.parse">
        function <span class="apidocSignatureSpan">phantomas.ipc.prototype.</span>parse
        <span class="apidocSignatureSpan">(data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parse = function (data) {
	// split by separator
	data.split(SEPARATOR).forEach(function(msg) {
		msg = msg.trim();

		if (msg === &#x27;&#x27;) return;

		try {
			msg = JSON.parse(msg);
			debug(&#x27;%s: %j&#x27;, msg.event, msg.data);

			// send event name and the rest of the data
			var args = msg.data;
			args.unshift(msg.event);

			this.events.emit.apply(this.events, args);

			// send generic &#x22;_msg&#x22; event for each message received (issue #354)
			this.events.emit(&#x27;_msg&#x27;, args);
		} catch (e) {
			// send PhantomJS errors to stderr to ease debugging of issues like #302
			debug(&#x27;message parsing failed: &#x22;%s&#x22;&#x27;, msg);
			process.stderr.write(msg + &#x22;\n&#x22;);
		}
	}, this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
		var prefix, data;

		// split &#x22;foo:content&#x22;
		prefix = msg.substr(0, 3);
		data = msg.substr(4);

		try {
			data = JSON.<span class="apidocCodeKeywordSpan">parse</span>(data);
		} catch (ex) {
			// fallback to plain log
			prefix = false;
		}

		//console.log(JSON.stringify([prefix, data]));
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.ipc.prototype.setEventEmitter" id="apidoc.element.phantomas.ipc.prototype.setEventEmitter">
        function <span class="apidocSignatureSpan">phantomas.ipc.prototype.</span>setEventEmitter
        <span class="apidocSignatureSpan">(emitter)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setEventEmitter = function (emitter) {
	this.events = emitter;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.phantomas.optimist_config_file" id="apidoc.module.phantomas.optimist_config_file">module phantomas.optimist_config_file</a></h1>


    <h2>
        <a href="#apidoc.element.phantomas.optimist_config_file.alias" id="apidoc.element.phantomas.optimist_config_file.alias">
        function <span class="apidocSignatureSpan">phantomas.optimist_config_file.</span>alias
        <span class="apidocSignatureSpan">(x, y)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">alias = function (x, y) {
    if (typeof x === &#x27;object&#x27;) {
        Object.keys(x).forEach(function (key) {
            self.alias(key, x[key]);
        });
    }
    else {
        options.alias[x] = (options.alias[x] || []).concat(y);
    }
    return self;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.optimist_config_file.boolean" id="apidoc.element.phantomas.optimist_config_file.boolean">
        function <span class="apidocSignatureSpan">phantomas.optimist_config_file.</span>boolean
        <span class="apidocSignatureSpan">(bools)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">boolean = function (bools) {
    options.boolean.push.apply(options.boolean, [].concat(bools));
    return self;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.optimist_config_file.check" id="apidoc.element.phantomas.optimist_config_file.check">
        function <span class="apidocSignatureSpan">phantomas.optimist_config_file.</span>check
        <span class="apidocSignatureSpan">(f)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">check = function (f) {
    checks.push(f);
    return self;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.optimist_config_file.default" id="apidoc.element.phantomas.optimist_config_file.default">
        function <span class="apidocSignatureSpan">phantomas.optimist_config_file.</span>default
        <span class="apidocSignatureSpan">(key, value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">default = function (key, value) {
    if (typeof key === &#x27;object&#x27;) {
        Object.keys(key).forEach(function (k) {
            self.default(k, key[k]);
        });
    }
    else {
        options.default[key] = value;
    }
    return self;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.optimist_config_file.demand" id="apidoc.element.phantomas.optimist_config_file.demand">
        function <span class="apidocSignatureSpan">phantomas.optimist_config_file.</span>demand
        <span class="apidocSignatureSpan">(keys)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">demand = function (keys) {
    if (typeof keys == &#x27;number&#x27;) {
        if (!demanded._) demanded._ = 0;
        demanded._ += keys;
    }
    else if (Array.isArray(keys)) {
        keys.forEach(function (key) {
            self.demand(key);
        });
    }
    else {
        demanded[keys] = true;
    }

    return self;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.optimist_config_file.describe" id="apidoc.element.phantomas.optimist_config_file.describe">
        function <span class="apidocSignatureSpan">phantomas.optimist_config_file.</span>describe
        <span class="apidocSignatureSpan">(opt)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">describe = function (opt) {
	if (nextHeader) {
		headers.push({
			label: nextHeader,
			before: opt
		});
		nextHeader = null;
	}
	return _describe.apply(optimist, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.optimist_config_file.header" id="apidoc.element.phantomas.optimist_config_file.header">
        function <span class="apidocSignatureSpan">phantomas.optimist_config_file.</span>header
        <span class="apidocSignatureSpan">(s)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">header = function (s) {
	nextHeader = s;
	return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.optimist_config_file.help" id="apidoc.element.phantomas.optimist_config_file.help">
        function <span class="apidocSignatureSpan">phantomas.optimist_config_file.</span>help
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">help = function () {
	var text = _help.apply(optimist, arguments),
		i, s, p, opt_header = &#x22;\nOptions:&#x22;,
		opt_header_len = opt_header.length;
	//console.log(text,headers);
	for (i = 0; i &#x3c; headers.length; i++) {
		s = &#x22;\n  --&#x22; + headers[i].before;
		p = text.indexOf(s);
		if (p != -1) {
			s = &#x22;\n&#x22; + ansistyles.bright(headers[i].label) + &#x22;:&#x22;;
			text = text.substr(0, p) + s + text.substr(p);
			if (text.substr(p - opt_header_len, opt_header_len) == opt_header) {
				text = text.substr(0, p - opt_header_len) + text.substr(p);
			}
		}
	}
	return text;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.optimist_config_file.option" id="apidoc.element.phantomas.optimist_config_file.option">
        function <span class="apidocSignatureSpan">phantomas.optimist_config_file.</span>option
        <span class="apidocSignatureSpan">(key, opt)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">option = function (key, opt) {
    if (typeof key === &#x27;object&#x27;) {
        Object.keys(key).forEach(function (k) {
            self.options(k, key[k]);
        });
    }
    else {
        if (opt.alias) self.alias(key, opt.alias);
        if (opt.demand) self.demand(key);
        if (typeof opt.default !== &#x27;undefined&#x27;) {
            self.default(key, opt.default);
        }

        if (opt.boolean || opt.type === &#x27;boolean&#x27;) {
            self.boolean(key);
        }
        if (opt.string || opt.type === &#x27;string&#x27;) {
            self.string(key);
        }

        var desc = opt.describe || opt.description || opt.desc;
        if (desc) {
            self.describe(key, desc);
        }
    }

    return self;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.optimist_config_file.options" id="apidoc.element.phantomas.optimist_config_file.options">
        function <span class="apidocSignatureSpan">phantomas.optimist_config_file.</span>options
        <span class="apidocSignatureSpan">(key, opt)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">options = function (key, opt) {
    if (typeof key === &#x27;object&#x27;) {
        Object.keys(key).forEach(function (k) {
            self.options(k, key[k]);
        });
    }
    else {
        if (opt.alias) self.alias(key, opt.alias);
        if (opt.demand) self.demand(key);
        if (typeof opt.default !== &#x27;undefined&#x27;) {
            self.default(key, opt.default);
        }

        if (opt.boolean || opt.type === &#x27;boolean&#x27;) {
            self.boolean(key);
        }
        if (opt.string || opt.type === &#x27;string&#x27;) {
            self.string(key);
        }

        var desc = opt.describe || opt.description || opt.desc;
        if (desc) {
            self.describe(key, desc);
        }
    }

    return self;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.optimist_config_file.parse" id="apidoc.element.phantomas.optimist_config_file.parse">
        function <span class="apidocSignatureSpan">phantomas.optimist_config_file.</span>parse
        <span class="apidocSignatureSpan">(args)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parse = function (args) {
	var options = origParse(args);
	debug(&#x27;parse: %j&#x27;, args);

	// check the config file
	var configFileName = this.configFileParam &#x26;&#x26; options[this.configFileParam],
		configParsed;

	// if --config is not provided, quit
	if (!configFileName) {
		debug(&#x27;options: %j&#x27;, options);
		return options;
	}

	configParsed = parseConfigFile(configFileName);

	// apply the rest of the options provided via command line
	Object.keys(configParsed).forEach(function(key) {
		// check if given option was not provided via command line
		if (args.indexOf(&#x27;--&#x27; + key) &#x3e; -1) {
			debug(&#x27;--%s option provided via command line, will skip the value from config file&#x27;, key);
			return;
		}

		options[key] = configParsed[key];
	});

	// cleanup
	delete options[this.configFileParam];

	debug(&#x27;options: %j&#x27;, options);
	return options;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
		var prefix, data;

		// split &#x22;foo:content&#x22;
		prefix = msg.substr(0, 3);
		data = msg.substr(4);

		try {
			data = JSON.<span class="apidocCodeKeywordSpan">parse</span>(data);
		} catch (ex) {
			// fallback to plain log
			prefix = false;
		}

		//console.log(JSON.stringify([prefix, data]));
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.optimist_config_file.setConfigFile" id="apidoc.element.phantomas.optimist_config_file.setConfigFile">
        function <span class="apidocSignatureSpan">phantomas.optimist_config_file.</span>setConfigFile
        <span class="apidocSignatureSpan">(configFileParam)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setConfigFile = function (configFileParam) {
	this.configFileParam = configFileParam;
	return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.optimist_config_file.showHelp" id="apidoc.element.phantomas.optimist_config_file.showHelp">
        function <span class="apidocSignatureSpan">phantomas.optimist_config_file.</span>showHelp
        <span class="apidocSignatureSpan">(fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">showHelp = function (fn) {
    if (!fn) fn = console.error;
    fn(self.help());
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.optimist_config_file.string" id="apidoc.element.phantomas.optimist_config_file.string">
        function <span class="apidocSignatureSpan">phantomas.optimist_config_file.</span>string
        <span class="apidocSignatureSpan">(strings)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">string = function (strings) {
    options.string.push.apply(options.string, [].concat(strings));
    return self;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.optimist_config_file.usage" id="apidoc.element.phantomas.optimist_config_file.usage">
        function <span class="apidocSignatureSpan">phantomas.optimist_config_file.</span>usage
        <span class="apidocSignatureSpan">(msg, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">usage = function (msg, opts) {
    if (!opts &#x26;&#x26; typeof msg === &#x27;object&#x27;) {
        opts = msg;
        msg = null;
    }

    usage = msg;

    if (opts) self.options(opts);

    return self;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.optimist_config_file.wrap" id="apidoc.element.phantomas.optimist_config_file.wrap">
        function <span class="apidocSignatureSpan">phantomas.optimist_config_file.</span>wrap
        <span class="apidocSignatureSpan">(cols)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">wrap = function (cols) {
    wrap = cols;
    return self;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
			}

			res.push(&#x27;&#x27;);
		});

		fold.pushEnd(res, &#x27;offenders&#x27;);

		return fold.<span class="apidocCodeKeywordSpan">wrap</span>(
			results.getUrl(),
			res.join(&#x27;\n&#x27;).trim()
		) + &#x27;\n&#x27;;
	}

	function formatMultipleRunResults(results) {
		var AsciiTable = require(&#x27;ascii-table&#x27;),
...</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.phantomas.pads" id="apidoc.module.phantomas.pads">module phantomas.pads</a></h1>


    <h2>
        <a href="#apidoc.element.phantomas.pads.lpad" id="apidoc.element.phantomas.pads.lpad">
        function <span class="apidocSignatureSpan">phantomas.pads.</span>lpad
        <span class="apidocSignatureSpan">(str, len)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function lpad(str, len) {
	var fill;
	str = typeof str !== &#x27;undefined&#x27; ? str : &#x27;-&#x27;;

	fill = new Array(Math.max(1, len - str.toString().length + 1)).join(&#x27; &#x27;);
	return fill + str;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.pads.rpad" id="apidoc.element.phantomas.pads.rpad">
        function <span class="apidocSignatureSpan">phantomas.pads.</span>rpad
        <span class="apidocSignatureSpan">(str, len)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function rpad(str, len) {
	var fill;
	str = typeof str !== &#x27;undefined&#x27; ? str : &#x27;-&#x27;;

	fill = new Array(Math.max(1, len - str.toString().length + 1)).join(&#x27; &#x27;);
	return str + fill;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.phantomas.phantomas" id="apidoc.module.phantomas.phantomas">module phantomas.phantomas</a></h1>


    <h2>
        <a href="#apidoc.element.phantomas.phantomas.phantomas" id="apidoc.element.phantomas.phantomas.phantomas">
        function <span class="apidocSignatureSpan">phantomas.</span>phantomas
        <span class="apidocSignatureSpan">(params)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">phantomas = function (params) {
	var fs = require(&#x27;fs&#x27;);

	// store script CLI parameters
	this.params = params;

	// --url=http://example.com
	this.url = params.url;

	// --format
	this.format = params.format;

	// --verbose
	this.verboseMode = params.verbose === true;

	// --silent
	this.silentMode = params.silent === true;

	// --timeout (in seconds)
	this.timeout = (params.timeout &#x3e; 0 &#x26;&#x26; parseInt(params.timeout, 10)) || 15;

	// --modules=localStorage,cookies
	this.modules = (typeof params.modules === &#x27;string&#x27;) ? params.modules.split(&#x27;,&#x27;) : [];

	// --include-dirs=dirOne,dirTwo
	this.includeDirs = (typeof params[&#x27;include-dirs&#x27;] === &#x27;string&#x27;) ? params[&#x27;include-dirs&#x27;].split(&#x27;,&#x27;) : [];

	// --skip-modules=jQuery,domQueries
	this.skipModules = (typeof params[&#x27;skip-modules&#x27;] === &#x27;string&#x27;) ? params[&#x27;skip-modules&#x27;].split(&#x27;,&#x27;) : [];

	// disable JavaScript on the page that will be loaded
	this.disableJs = params[&#x27;disable-js&#x27;] === true;

	// setup the stuff
	this.emitter = new(this.require(&#x27;events&#x27;).EventEmitter)();
	this.emitter.setMaxListeners(200);
	this.ipc = require(&#x27;./ipc&#x27;);

	this.util = this.require(&#x27;util&#x27;);

	this.page = require(&#x27;webpage&#x27;).create();

	// store the timestamp of responseEnd event
	// should be bound before modules
	this.on(&#x27;responseEnd&#x27;, this.proxy(function() {
		this.responseEndTime = Date.now();
	}));

	// setup logger
	var Logger = require(&#x27;./logger&#x27;),
		logFile = params.log || &#x27;&#x27;;

	this.logger = new Logger(logFile, {
		beVerbose: this.verboseMode,
		beSilent: this.silentMode
	});

	// detect phantomas working directory
	if (typeof module.dirname !== &#x27;undefined&#x27;) {
		this.dir = module.dirname.replace(/core$/, &#x27;&#x27;);
	} else if (typeof slimer !== &#x27;undefined&#x27;) {
		var args = require(&#x27;system&#x27;).args;
		this.dir = fs.dirname(args[0]).replace(/scripts$/, &#x27;&#x27;);
	}

	this.log(&#x27;phantomas v%s: %s&#x27;, this.getVersion(), this.dir);
	this.log(&#x27;Options: %j&#x27;, this.params);

	// queue of jobs that needs to be done before report can be generated
	var Queue = require(&#x27;../lib/simple-queue&#x27;);
	this.reportQueue = new Queue();

	// set up results wrapper
	var Results = require(&#x27;./results&#x27;);
	this.results = new Results();

	this.results.setGenerator(&#x27;phantomas v&#x27; + this.getVersion());
	this.results.setUrl(this.url);

	this.metricsAvgStorage = {};

	// allow asserts to be provided via command-line options (#128)
	Object.keys(this.params).forEach(function(param) {
		var value = parseFloat(this.params[param]),
			name;

		if (!isNaN(value) &#x26;&#x26; param.indexOf(&#x27;assert-&#x27;) === 0) {
			name = param.substr(7);

			if (name.length &#x3e; 0) {
				this.results.setAssert(name, value);
			}
		}
	}, this);

	// load core modules
	this.log(&#x27;Loading: core modules...&#x27;);
	this.addCoreModule(&#x27;navigationTiming&#x27;);
	this.addCoreModule(&#x27;requestsMonitor&#x27;);
	this.addCoreModule(&#x27;timeToFirstByte&#x27;);

	// load extensions
	this.log(&#x27;Loading: extensions...&#x27;);
	var extensions = this.listExtensions();
	extensions.forEach(this.addExtension, this);

	// load modules
	this.log(&#x27;Loading: modules...&#x27;);
	var modules = (this.modules.length &#x3e; 0) ? this.modules : this.listModules();
	modules.forEach(this.addModule, this);

	// load 3rd party modules
	this.log(&#x27;Loading: 3rd party modules...&#x27;);
	this.includeDirs.forEach(function(dirName) {
		var dirPath = fs.absolute(dirName),
			dirModules = this.listModulesInDir(dirPath);

		dirModules.forEach(function(moduleName) {
			this.addModuleInDir(dirPath, moduleName);
		}, this);

	}, this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.phantomas.phantomas.prototype" id="apidoc.module.phantomas.phantomas.prototype">module phantomas.phantomas.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.phantomas.phantomas.prototype.addCoreModule" id="apidoc.element.phantomas.phantomas.prototype.addCoreModule">
        function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>addCoreModule
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addCoreModule = function (name) {
		var pkg = require(&#x27;./modules/&#x27; + name + &#x27;/&#x27; + name);

		// init a module
		pkg.module(this.getPublicWrapper());

		this.log(&#x27;Core module %s%s initialized&#x27;, name, (pkg.version ? &#x27; v&#x27; + pkg.version : &#x27;&#x27;));
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
				this.results.setAssert(name, value);
			}
		}
	}, this);

	// load core modules
	this.log(&#x27;Loading: core modules...&#x27;);
	this.<span class="apidocCodeKeywordSpan">addCoreModule</span>(&#x27;navigationTiming&#x27;);
	this.addCoreModule(&#x27;requestsMonitor&#x27;);
	this.addCoreModule(&#x27;timeToFirstByte&#x27;);

	// load extensions
	this.log(&#x27;Loading: extensions...&#x27;);
	var extensions = this.listExtensions();
	extensions.forEach(this.addExtension, this);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.phantomas.prototype.addExtension" id="apidoc.element.phantomas.phantomas.prototype.addExtension">
        function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>addExtension
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addExtension = function (name) {
		return this.addModuleInDir(&#x27;./../extensions&#x27;, name);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.phantomas.prototype.addModule" id="apidoc.element.phantomas.phantomas.prototype.addModule">
        function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>addModule
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addModule = function (name) {
		return this.addModuleInDir(&#x27;./../modules&#x27;, name);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.phantomas.prototype.addModuleInDir" id="apidoc.element.phantomas.phantomas.prototype.addModuleInDir">
        function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>addModuleInDir
        <span class="apidocSignatureSpan">(dir, name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addModuleInDir = function (dir, name) {
		var pkg;
		if (this.skipModules.indexOf(name) &#x3e; -1) {
			this.log(&#x27;Module %s skipped!&#x27;, name);
			return;
		}
		try {
			pkg = require(dir + &#x27;/&#x27; + name + &#x27;/&#x27; + name);
		} catch (e) {
			this.log(&#x27;Unable to load module &#x22;%s&#x22; from %s!&#x27;, name, dir);
			this.log(&#x27;%s!&#x27;, e);
			return false;
		}

		if (pkg.skip) {
			this.log(&#x27;Module %s skipped!&#x27;, name);
			return false;
		}

		// init a module
		pkg.module(this.getPublicWrapper());

		this.log(&#x27;Module %s%s initialized&#x27;, name, (pkg.version ? &#x27; v&#x27; + pkg.version : &#x27;&#x27;));
		return true;
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	// load 3rd party modules
	this.log(&#x27;Loading: 3rd party modules...&#x27;);
	this.includeDirs.forEach(function(dirName) {
		var dirPath = fs.absolute(dirName),
			dirModules = this.listModulesInDir(dirPath);

		dirModules.forEach(function(moduleName) {
			this.<span class="apidocCodeKeywordSpan">addModuleInDir</span>(dirPath, moduleName);
		}, this);

	}, this);
};

phantomas.version = VERSION;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.phantomas.prototype.addOffender" id="apidoc.element.phantomas.phantomas.prototype.addOffender">
        function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>addOffender
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addOffender = function () {
		var args = Array.prototype.slice.call(arguments),
			metricName = args.shift();

		this.results.addOffender(metricName, this.util.format.apply(this, args));
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

					self.log(&#x27;Timeout: gave up waiting for %d HTTP response(s): &#x3c;%s&#x3e;&#x27;, currentRequests, timedOutRequests.join
(&#x27;&#x3e;, &#x3c;&#x27;));

					// emit timed out requests as a fake metric (#539)
					self.results.setMetric(&#x27;requestsWithTimeout&#x27;, timedOutRequests.length);

					timedOutRequests.forEach(function(url) {
						self.results.<span class="apidocCodeKeywordSpan">addOffender</span>(&#x27;requestsWithTimeout&#x27;, url);
					});
				});

				// always register the metric (issue #581)
				self.results.setMetric(&#x27;requestsWithTimeout&#x27;, 0);
			});
		}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.phantomas.prototype.addToAvgMetric" id="apidoc.element.phantomas.phantomas.prototype.addToAvgMetric">
        function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>addToAvgMetric
        <span class="apidocSignatureSpan">(name, value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addToAvgMetric = function (name, value) {
		if (typeof this.metricsAvgStorage[name] === &#x27;undefined&#x27;) {
			this.metricsAvgStorage[name] = [];
		}

		this.metricsAvgStorage[name].push(value);

		this.setMetric(name, getAverage(this.metricsAvgStorage[name]));
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
				break;

			case &#x27;incrMetric&#x27;:
				this.incrMetric(data.name, data.incr);
				break;

			case &#x27;addToAvgMetric&#x27;:
				this.<span class="apidocCodeKeywordSpan">addToAvgMetric</span>(data.name, data.value);
				break;

			case &#x27;setMarkerMetric&#x27;:
				this.setMarkerMetric(data.name);
				break;

			case &#x27;addOffender&#x27;:
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.phantomas.prototype.echo" id="apidoc.element.phantomas.phantomas.prototype.echo">
        function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>echo
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">echo = function (msg) {
		this.logger.echo(msg);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	// supports phantomas.log(&#x27;foo: &#x3c;%s&#x3e;&#x27;, url);
	log: function() {
		this.logger.log(this.util.format.apply(this, arguments));
	},

	// console.log wrapper obeying --silent mode
	echo: function(msg) {
		this.logger.<span class="apidocCodeKeywordSpan">echo</span>(msg);
	},

	// require CommonJS module from lib/modules
	require: function(module) {
		return require(&#x27;../lib/modules/&#x27; + module);
	},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.phantomas.prototype.emit" id="apidoc.element.phantomas.phantomas.prototype.emit">
        function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>emit
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">emit = function () {
		this.emitInternal.apply(this, arguments);

		// pass it via IPC
		var args = Array.prototype.slice.apply(arguments),
			eventName = args.shift(),
			ipc = new this.ipc(eventName);

		ipc.push.apply(ipc, args);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

			// store the change and update the current progress
			inc = this.page.loadingProgress - currentProgress;
			currentProgress = this.page.loadingProgress;

			this.log(&#x27;Loading progress: %d%&#x27;, currentProgress);

			this.<span class="apidocCodeKeywordSpan">emit</span>(&#x27;progress&#x27;, currentProgress, inc); // @desc loading progress has
 changed
		}

		if (typeof this.page.loadingProgress !== &#x27;undefined&#x27;) {
			setInterval(pollFn.bind(this), 50);
		} else {
			this.log(&#x27;Loading progress: not available!&#x27;);
		}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.phantomas.prototype.emitInternal" id="apidoc.element.phantomas.phantomas.prototype.emitInternal">
        function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>emitInternal
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">emitInternal = function () {
		this.log(&#x27;Event %s emitted&#x27;, arguments[0]);
		this.emitter.emit.apply(this.emitter, arguments);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
			self.on(&#x27;loadFinished&#x27;, done);
		});

		// generate a report when all jobs are done
		this.reportQueue.done(this.report, this);

		// last time changes?
		this.<span class="apidocCodeKeywordSpan">emitInternal</span>(&#x27;pageBeforeOpen&#x27;, this.page); // @desc page.open is about
 to be called

		// open the page
		this.page.open(this.url);

		this.emitInternal(&#x27;pageOpen&#x27;); // @desc page.open has been called

		// fallback - always timeout after TIMEOUT seconds
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.phantomas.prototype.getMetric" id="apidoc.element.phantomas.phantomas.prototype.getMetric">
        function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>getMetric
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getMetric = function (name) {
		return this.results.getMetric(name);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

		this.setMetric(name, value, true /* isFinal */ );
		return value;
	},

	// increements given metric by given number (default is one)
	incrMetric: function(name, incr /* =1 */ ) {
		var currVal = this.<span class="apidocCodeKeywordSpan">getMetric</span>(name) || 0;
		this.setMetric(name, currVal + (typeof incr === &#x27;number&#x27; ? incr : 1));
	},

	// push a value and update the metric if the current average value
	addToAvgMetric: function(name, value) {
		if (typeof this.metricsAvgStorage[name] === &#x27;undefined&#x27;) {
			this.metricsAvgStorage[name] = [];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.phantomas.prototype.getParam" id="apidoc.element.phantomas.phantomas.prototype.getParam">
        function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>getParam
        <span class="apidocSignatureSpan">(key, defValue, typeCheck)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getParam = function (key, defValue, typeCheck) {
		var value = this.params[key];

		// strict type check
		if (typeof typeCheck === &#x27;string&#x27; &#x26;&#x26; typeof value !== typeCheck) {
			value = undefined;
		}

		return value || defValue;
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
		}

		this.start = Date.now();

		var self = this;

		// setup viewport / --viewport=1366x768
		var parsedViewport = this.<span class="apidocCodeKeywordSpan">getParam</span>(&#x27;viewport&#x27;, &#x27;1366x768&#x27;, &#x27
;string&#x27;).split(&#x27;x&#x27;);

		if (parsedViewport.length === 2) {
			var viewportSize = {
				width: parseInt(parsedViewport[0], 10) || 1366,
				height: parseInt(parsedViewport[1], 10) || 768
			};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.phantomas.prototype.getPublicWrapper" id="apidoc.element.phantomas.phantomas.prototype.getPublicWrapper">
        function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>getPublicWrapper
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getPublicWrapper = function () {
		function setParam(key, value) {
			<span class="apidocCodeCommentSpan">/* jshint validthis: true */
</span>			this.log(&#x27;setParam: %s set to %j&#x27;, key, value);
			this.params[key] = value;
		}

		function setZoom(zoomFactor) {
			/* jshint validthis: true */
			this.page.zoomFactor = zoomFactor;
		}

		// modules API
		return {
			url: this.params.url,
			getVersion: this.getVersion.bind(this),
			getParam: this.getParam.bind(this),
			setParam: setParam.bind(this),

			// events
			on: this.on.bind(this),
			once: this.once.bind(this),
			emit: this.emit.bind(this),
			emitInternal: this.emitInternal.bind(this),

			// reports
			reportQueuePush: this.reportQueue.push.bind(this.reportQueue),

			// metrics
			setMetric: this.setMetric.bind(this),
			setMetricEvaluate: this.setMetricEvaluate.bind(this),
			setMarkerMetric: this.setMarkerMetric.bind(this),
			incrMetric: this.incrMetric.bind(this),
			addToAvgMetric: this.addToAvgMetric.bind(this),
			getMetric: this.getMetric.bind(this),

			// offenders
			addOffender: this.addOffender.bind(this),

			// debug
			log: this.log.bind(this),
			echo: this.echo.bind(this),

			// phantomJS
			evaluate: this.page.evaluate.bind(this.page),
			injectJs: this.page.injectJs.bind(this.page),
			require: this.require.bind(this),
			render: this.page.render.bind(this.page),
			setZoom: setZoom.bind(this),
			getSource: this.getSource.bind(this),

			// utils
			runScript: this.runScript.bind(this),
			tmpdir: this.tmpdir.bind(this)
		};
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	},

	// initialize given core phantomas module
	addCoreModule: function(name) {
		var pkg = require(&#x27;./modules/&#x27; + name + &#x27;/&#x27; + name);

		// init a module
		pkg.module(this.<span class="apidocCodeKeywordSpan">getPublicWrapper</span>());

		this.log(&#x27;Core module %s%s initialized&#x27;, name, (pkg.version ? &#x27; v&#x27; + pkg.version : &#x27;&#x27;));
	},

	// initialize given phantomas extension
	addExtension: function(name) {
		return this.addModuleInDir(&#x27;./../extensions&#x27;, name);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.phantomas.prototype.getSource" id="apidoc.element.phantomas.phantomas.prototype.getSource">
        function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>getSource
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getSource = function () {
		return this.page.content;
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.phantomas.prototype.getVersion" id="apidoc.element.phantomas.phantomas.prototype.getVersion">
        function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>getVersion
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getVersion = function () {
		return VERSION;
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	if (typeof module.dirname !== &#x27;undefined&#x27;) {
		this.dir = module.dirname.replace(/core$/, &#x27;&#x27;);
	} else if (typeof slimer !== &#x27;undefined&#x27;) {
		var args = require(&#x27;system&#x27;).args;
		this.dir = fs.dirname(args[0]).replace(/scripts$/, &#x27;&#x27;);
	}

	this.log(&#x27;phantomas v%s: %s&#x27;, this.<span class="apidocCodeKeywordSpan">getVersion</span>(), this.dir);
	this.log(&#x27;Options: %j&#x27;, this.params);

	// queue of jobs that needs to be done before report can be generated
	var Queue = require(&#x27;../lib/simple-queue&#x27;);
	this.reportQueue = new Queue();

	// set up results wrapper
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.phantomas.prototype.incrMetric" id="apidoc.element.phantomas.phantomas.prototype.incrMetric">
        function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>incrMetric
        <span class="apidocSignatureSpan">(name, incr)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">incrMetric = function (name, incr) {
		var currVal = this.getMetric(name) || 0;
		this.setMetric(name, currVal + (typeof incr === &#x27;number&#x27; ? incr : 1));
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
				break;

			case &#x27;setMetric&#x27;:
				this.setMetric(data.name, data.value, data.isFinal);
				break;

			case &#x27;incrMetric&#x27;:
				this.<span class="apidocCodeKeywordSpan">incrMetric</span>(data.name, data.incr);
				break;

			case &#x27;addToAvgMetric&#x27;:
				this.addToAvgMetric(data.name, data.value);
				break;

			case &#x27;setMarkerMetric&#x27;:
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.phantomas.prototype.initLoadingProgress" id="apidoc.element.phantomas.phantomas.prototype.initLoadingProgress">
        function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>initLoadingProgress
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">initLoadingProgress = function () {
		var currentProgress = false;

		function pollFn() {
			<span class="apidocCodeCommentSpan">/* jshint validthis: true */
</span>			var inc;

			if (currentProgress &#x3e;= this.page.loadingProgress) {
				return;
			}

			// store the change and update the current progress
			inc = this.page.loadingProgress - currentProgress;
			currentProgress = this.page.loadingProgress;

			this.log(&#x27;Loading progress: %d%&#x27;, currentProgress);

			this.emit(&#x27;progress&#x27;, currentProgress, inc); // @desc loading progress has changed
		}

		if (typeof this.page.loadingProgress !== &#x27;undefined&#x27;) {
			setInterval(pollFn.bind(this), 50);
		} else {
			this.log(&#x27;Loading progress: not available!&#x27;);
		}
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
		this.page.onAlert = this.proxy(this.onAlert);
		this.page.onConfirm = this.proxy(this.onConfirm);
		this.page.onPrompt = this.proxy(this.onPrompt);
		this.page.onConsoleMessage = this.proxy(this.onConsoleMessage);
		this.page.onCallback = this.proxy(this.onCallback);
		this.page.onError = this.proxy(this.onError);

		this.<span class="apidocCodeKeywordSpan">initLoadingProgress</span>();

		// do not wait for any requests, stop immediately after onload event (issue #513)
		if (this.getParam(&#x27;stop-at-onload&#x27;, false) === true) {
			this.log(&#x27;stop-at-onload: --stop-at-onload passed, will stop immediately after onload event&#x27;);
		} else {
			// observe HTTP requests
			// finish when the last request is completed + one second timeout
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.phantomas.prototype.listExtensions" id="apidoc.element.phantomas.phantomas.prototype.listExtensions">
        function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>listExtensions
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">listExtensions = function () {
		return this.listModulesInDir(this.dir + &#x27;extensions&#x27;);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	this.log(&#x27;Loading: core modules...&#x27;);
	this.addCoreModule(&#x27;navigationTiming&#x27;);
	this.addCoreModule(&#x27;requestsMonitor&#x27;);
	this.addCoreModule(&#x27;timeToFirstByte&#x27;);

	// load extensions
	this.log(&#x27;Loading: extensions...&#x27;);
	var extensions = this.<span class="apidocCodeKeywordSpan">listExtensions</span>();
	extensions.forEach(this.addExtension, this);

	// load modules
	this.log(&#x27;Loading: modules...&#x27;);
	var modules = (this.modules.length &#x3e; 0) ? this.modules : this.listModules();
	modules.forEach(this.addModule, this);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.phantomas.prototype.listModules" id="apidoc.element.phantomas.phantomas.prototype.listModules">
        function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>listModules
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">listModules = function () {
		return this.listModulesInDir(this.dir + &#x27;modules&#x27;);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	// load extensions
	this.log(&#x27;Loading: extensions...&#x27;);
	var extensions = this.listExtensions();
	extensions.forEach(this.addExtension, this);

	// load modules
	this.log(&#x27;Loading: modules...&#x27;);
	var modules = (this.modules.length &#x3e; 0) ? this.modules : this.<span class="apidocCodeKeywordSpan">listModules</span>();
	modules.forEach(this.addModule, this);

	// load 3rd party modules
	this.log(&#x27;Loading: 3rd party modules...&#x27;);
	this.includeDirs.forEach(function(dirName) {
		var dirPath = fs.absolute(dirName),
			dirModules = this.listModulesInDir(dirPath);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.phantomas.prototype.listModulesInDir" id="apidoc.element.phantomas.phantomas.prototype.listModulesInDir">
        function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>listModulesInDir
        <span class="apidocSignatureSpan">(modulesDir)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">listModulesInDir = function (modulesDir) {
		this.log(&#x27;Getting the list of all modules in %s...&#x27;, modulesDir);

		var fs = require(&#x27;fs&#x27;),
			ls = fs.list(modulesDir) || [],
			modules = [];

		ls.forEach(function(entry) {
			<span class="apidocCodeCommentSpan">/**
			 * README.md will be listed as an entry. That caused issue #409:
			 * SlimerJS raised: &#x22;Component returned failure code: 0x80520005 (NS_ERROR_FILE_DESTINATION_NOT_DIR) [nsILocalFile.isFile]&#x22;
			 *
			 * First check whether an entry is a directory, than check if it contains a module file
			 */
</span>			if (fs.isDirectory(modulesDir + &#x27;/&#x27; + entry) &#x26;&#x26; fs.isFile(modulesDir + &#x27;/&#x27; + entry + &#x27;/&#x27; + entry + &#x27;.js&#x27;)) {
				modules.push(entry);
			}
		});

		// SlimerJS &#x27;fs.list&#x27; does not order the returned array
		// PhantomJS does that, so be consistent here :)
		return modules.sort();
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	var modules = (this.modules.length &#x3e; 0) ? this.modules : this.listModules();
	modules.forEach(this.addModule, this);

	// load 3rd party modules
	this.log(&#x27;Loading: 3rd party modules...&#x27;);
	this.includeDirs.forEach(function(dirName) {
		var dirPath = fs.absolute(dirName),
			dirModules = this.<span class="apidocCodeKeywordSpan">listModulesInDir</span>(dirPath);

		dirModules.forEach(function(moduleName) {
			this.addModuleInDir(dirPath, moduleName);
		}, this);

	}, this);
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.phantomas.prototype.log" id="apidoc.element.phantomas.phantomas.prototype.log">
        function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>log
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">log = function () {
		this.logger.log(this.util.format.apply(this, arguments));
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

		// set up a stream to be used for logging
		stream = fs.open(logFile, &#x27;w&#x27;);
	}

	function echo(msg) {
		if (!beSilent) {
			console.<span class="apidocCodeKeywordSpan">log</span>(msg);
		}
	}

	function log(msg) {
		var ts = (new Date()).toJSON().substr(11, 12);

		// format a message
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.phantomas.prototype.on" id="apidoc.element.phantomas.phantomas.prototype.on">
        function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>on
        <span class="apidocSignatureSpan">(ev, fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on = function (ev, fn) {
		this.emitter.on(ev, fn);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

	this.util = this.require(&#x27;util&#x27;);

	this.page = require(&#x27;webpage&#x27;).create();

	// store the timestamp of responseEnd event
	// should be bound before modules
	this.<span class="apidocCodeKeywordSpan">on</span>(&#x27;responseEnd&#x27;, this.proxy(function() {
		this.responseEndTime = Date.now();
	}));

	// setup logger
	var Logger = require(&#x27;./logger&#x27;),
		logFile = params.log || &#x27;&#x27;;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.phantomas.prototype.onAlert" id="apidoc.element.phantomas.phantomas.prototype.onAlert">
        function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>onAlert
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onAlert = function (msg) {
		this.log(&#x27;Alert: %s&#x27;, msg);
		this.emitInternal(&#x27;alert&#x27;, msg); // @desc the page called window.alert
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.phantomas.prototype.onCallback" id="apidoc.element.phantomas.phantomas.prototype.onCallback">
        function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>onCallback
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onCallback = function (msg) {
		var type = msg &#x26;&#x26; msg.type || &#x27;&#x27;,
			data = msg &#x26;&#x26; msg.data || {};

		switch (type) {
			case &#x27;log&#x27;:
				this.log.apply(this, data);
				break;

			case &#x27;setMetric&#x27;:
				this.setMetric(data.name, data.value, data.isFinal);
				break;

			case &#x27;incrMetric&#x27;:
				this.incrMetric(data.name, data.incr);
				break;

			case &#x27;addToAvgMetric&#x27;:
				this.addToAvgMetric(data.name, data.value);
				break;

			case &#x27;setMarkerMetric&#x27;:
				this.setMarkerMetric(data.name);
				break;

			case &#x27;addOffender&#x27;:
				this.addOffender.apply(this, data);
				break;

			case &#x27;emit&#x27;:
				this.emit.apply(this, data);
				break;

			default:
				this.log(&#x27;Message &#x22;%s&#x22; from browser\&#x27;s scope: %j&#x27;, type, data);
				this.emitInternal(&#x27;message&#x27;, msg); // @desc the scope script sent a message
		}
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
		}

		//console.log(JSON.stringify([prefix, data]));

		switch (prefix) {
			// handle JSON-encoded messages from browser&#x27;s scope sendMsg()
			case &#x27;msg&#x27;:
				this.<span class="apidocCodeKeywordSpan">onCallback</span>(data);
				break;

				// console.log arguments are passed as JSON-encoded array
			case &#x27;log&#x27;:
				msg = this.util.format.apply(this, data);

				this.log(&#x27;console.log: %s&#x27;, msg);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.phantomas.prototype.onConfirm" id="apidoc.element.phantomas.phantomas.prototype.onConfirm">
        function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>onConfirm
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onConfirm = function (msg) {
		this.log(&#x27;Confirm: %s&#x27;, msg);
		this.emitInternal(&#x27;confirm&#x27;, msg); // @desc the page called window.confirm
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.phantomas.prototype.onConsoleMessage" id="apidoc.element.phantomas.phantomas.prototype.onConsoleMessage">
        function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>onConsoleMessage
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onConsoleMessage = function (msg) {
		var prefix, data;

		// split &#x22;foo:content&#x22;
		prefix = msg.substr(0, 3);
		data = msg.substr(4);

		try {
			data = JSON.parse(data);
		} catch (ex) {
			// fallback to plain log
			prefix = false;
		}

		//console.log(JSON.stringify([prefix, data]));

		switch (prefix) {
			// handle JSON-encoded messages from browser&#x27;s scope sendMsg()
			case &#x27;msg&#x27;:
				this.onCallback(data);
				break;

				// console.log arguments are passed as JSON-encoded array
			case &#x27;log&#x27;:
				msg = this.util.format.apply(this, data);

				this.log(&#x27;console.log: %s&#x27;, msg);
				this.emitInternal(&#x27;consoleLog&#x27;, msg, data); // @desc the page called console.log
				break;

			default:
				this.log(msg);
		}
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.phantomas.prototype.onError" id="apidoc.element.phantomas.phantomas.prototype.onError">
        function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>onError
        <span class="apidocSignatureSpan">(msg, trace)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onError = function (msg, trace) {
		this.log(&#x27;JS error: %s&#x27;, msg);
		this.emitInternal(&#x27;jserror&#x27;, msg, trace); // @desc JS error occured
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.phantomas.prototype.onInitialized" id="apidoc.element.phantomas.phantomas.prototype.onInitialized">
        function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>onInitialized
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onInitialized = function () {
		// SlimerJS triggers this event twice
		// @see https://github.com/laurentj/slimerjs/blob/master/docs/api/webpage.rst#oninitialized
		if (this.page.url === &#x27;&#x27;) {
			this.log(&#x27;onInit: webpage.url is empty, waiting for the second trigger...&#x27;);
			return;
		}

		var currentUrl = this.page.url;

		// prevent multiple triggers in PhantomJS
		// but only on the same page (issue #550)
		if (this.initTriggered === currentUrl) {
			this.log(&#x27;onInit: was already triggered for &#x3c;%s&#x3e;&#x27;, currentUrl);
			return;
		}
		this.initTriggered = currentUrl;

		// Another multiple triggers case in PhantomJS (issue #606)
		if (this.page.url === &#x27;about:blank&#x27;) {
			this.log(&#x27;onInit: webpage.url is about:blank, ignoring&#x27;);
			return;
		}

		// add helper tools into window.__phantomas &#x22;namespace&#x22;
		if (!this.page.injectJs(this.dir + &#x27;core/scope.js&#x27;)) {
			this.tearDown(EXIT_ERROR, &#x27;Scope script injection failed&#x27;);
			return;
		}

		this.log(&#x27;onInit: page object initialized&#x27;);
		this.emitInternal(&#x27;init&#x27;); // @desc page has been initialized, scripts can be injected
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.phantomas.prototype.onLoadFinished" id="apidoc.element.phantomas.phantomas.prototype.onLoadFinished">
        function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>onLoadFinished
        <span class="apidocSignatureSpan">(status)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onLoadFinished = function (status) {
		// trigger this only once
		if (this.onLoadFinishedEmitted) {
			return;
		}
		this.onLoadFinishedEmitted = true;

		// we&#x27;re done
		this.log(&#x27;Page loading finished (&#x22;%s&#x22;)&#x27;, status);

		switch (status) {
			case &#x27;success&#x27;:
				this.emitInternal(&#x27;loadFinished&#x27;, status); // @desc page has been fully loaded
				break;

			default:
				this.emitInternal(&#x27;loadFailed&#x27;, status); // @desc page loading failed
				this.tearDown(EXIT_LOAD_FAILED, &#x27;Page loading failed&#x27;);
				break;
		}
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.phantomas.prototype.onLoadStarted" id="apidoc.element.phantomas.phantomas.prototype.onLoadStarted">
        function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>onLoadStarted
        <span class="apidocSignatureSpan">(url, isFrame)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onLoadStarted = function (url, isFrame) {
		if (this.onLoadStartedEmitted) {
			return;
		}

		// onLoadStarted is called for the page and each iframe
		// tigger &#x22;loadStarted&#x22; event just once
		this.onLoadStartedEmitted = true;

		this.log(&#x27;Page loading started&#x27;);
		this.emitInternal(&#x27;loadStarted&#x27;); // @desc page loading has started
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.phantomas.prototype.onPrompt" id="apidoc.element.phantomas.phantomas.prototype.onPrompt">
        function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>onPrompt
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onPrompt = function (msg) {
		this.log(&#x27;Prompt: %s&#x27;, msg);
		this.emitInternal(&#x27;prompt&#x27;, msg); // @desc the page called window.prompt
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.phantomas.prototype.onResourceReceived" id="apidoc.element.phantomas.phantomas.prototype.onResourceReceived">
        function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>onResourceReceived
        <span class="apidocSignatureSpan">(res)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onResourceReceived = function (res) {
		this.emitInternal(&#x27;onResourceReceived&#x27;, res); // @desc HTTP response has been received
		//this.log(JSON.stringify(res));
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.phantomas.prototype.onResourceRequested" id="apidoc.element.phantomas.phantomas.prototype.onResourceRequested">
        function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>onResourceRequested
        <span class="apidocSignatureSpan">(res, request)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onResourceRequested = function (res, request) {
		this.emitInternal(&#x27;onResourceRequested&#x27;, res, request); // @desc HTTP request has been sent
		//this.log(JSON.stringify(res));
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.phantomas.prototype.once" id="apidoc.element.phantomas.phantomas.prototype.once">
        function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>once
        <span class="apidocSignatureSpan">(ev, fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">once = function (ev, fn) {
		this.emitter.once(ev, fn);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

	// bind to a given event
	on: function(ev, fn) {
		this.emitter.on(ev, fn);
	},

	once: function(ev, fn) {
		this.emitter.<span class="apidocCodeKeywordSpan">once</span>(ev, fn);
	},

	getVersion: function() {
		return VERSION;
	},

	getParam: function(key, defValue, typeCheck) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.phantomas.prototype.proxy" id="apidoc.element.phantomas.phantomas.prototype.proxy">
        function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>proxy
        <span class="apidocSignatureSpan">(fn, scope)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">proxy = function (fn, scope) {
		scope = scope || this;
		return function() {
			return fn.apply(scope, arguments);
		};
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

	this.util = this.require(&#x27;util&#x27;);

	this.page = require(&#x27;webpage&#x27;).create();

	// store the timestamp of responseEnd event
	// should be bound before modules
	this.on(&#x27;responseEnd&#x27;, this.<span class="apidocCodeKeywordSpan">proxy</span>(function() {
		this.responseEndTime = Date.now();
	}));

	// setup logger
	var Logger = require(&#x27;./logger&#x27;),
		logFile = params.log || &#x27;&#x27;;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.phantomas.prototype.report" id="apidoc.element.phantomas.phantomas.prototype.report">
        function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>report
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">report = function () {
		// restote the native JSON.parse (just in case, see #482)
		this.page.evaluate(function() {
			JSON.parse = window.__phantomas &#x26;&#x26; window.__phantomas.JSON.parse;
		});

		this.emitInternal(&#x27;report&#x27;); // @desc the report is about to be generated

		var time = Date.now() - this.start;
		this.log(&#x27;phantomas run for &#x3c;%s&#x3e; completed in %d ms&#x27;, this.page.url, time);

		this.results.setUrl(this.page.url);
		this.emitInternal(&#x27;results&#x27;, this.results); // @desc modify the results

		// count all metrics
		this.log(&#x27;Returning results with %d metric(s)...&#x27;, this.results.getMetricsNames().length);

		// emit results in JSON
		var formatter = require(&#x27;./formatter&#x27;);
		this.emit(&#x27;json&#x27;, formatter(this.results));

		// handle timeouts (issue #129)
		if (this.timedOut) {
			this.tearDown(EXIT_TIMED_OUT, &#x27;Timeout&#x27;);
			return;
		}

		// asserts handling
		var failedAsserts = this.results.getFailedAsserts(),
			failedAssertsCnt = failedAsserts.length;

		if (failedAssertsCnt &#x3e; 0) {
			this.log(&#x27;Failed on %d assert(s) on the following metric(s): %s!&#x27;, failedAssertsCnt, failedAsserts.join(&#x27;, &#x27;));

			// exit code should equal number of failed assertions
			this.tearDown(failedAssertsCnt);
			return;
		}

		this.log(&#x27;Done!&#x27;);
		this.tearDown();
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
		this.log(&#x27;Timeout set to %d sec&#x27;, this.timeout);
		setTimeout(function() {
			this.log(&#x27;Timeout of %d sec was reached!&#x27;, this.timeout);

			this.emitInternal(&#x27;timeout&#x27;); // @desc phantomas has timed out
			this.timedOut = true;

			this.<span class="apidocCodeKeywordSpan">report</span>();
		}.bind(this), this.timeout * 1000);
	},

	// called when all HTTP requests are completed
	report: function() {
		// restote the native JSON.parse (just in case, see #482)
		this.page.evaluate(function() {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.phantomas.prototype.require" id="apidoc.element.phantomas.phantomas.prototype.require">
        function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>require
        <span class="apidocSignatureSpan">(module)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">require = function (module) {
		return require(&#x27;../lib/modules/&#x27; + module);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	// --skip-modules=jQuery,domQueries
	this.skipModules = (typeof params[&#x27;skip-modules&#x27;] === &#x27;string&#x27;) ? params[&#x27;skip-modules&#x27;].split(&#
x27;,&#x27;) : [];

	// disable JavaScript on the page that will be loaded
	this.disableJs = params[&#x27;disable-js&#x27;] === true;

	// setup the stuff
	this.emitter = new(this.<span class="apidocCodeKeywordSpan">require</span>(&#x27;events&#x27;).EventEmitter)();
	this.emitter.setMaxListeners(200);
	this.ipc = require(&#x27;./ipc&#x27;);

	this.util = this.require(&#x27;util&#x27;);

	this.page = require(&#x27;webpage&#x27;).create();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.phantomas.prototype.run" id="apidoc.element.phantomas.phantomas.prototype.run">
        function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>run
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">run = function () {
		// check required params
		if (!this.url) {
			throw &#x27;--url argument must be provided!&#x27;;
		}

		this.start = Date.now();

		var self = this;

		// setup viewport / --viewport=1366x768
		var parsedViewport = this.getParam(&#x27;viewport&#x27;, &#x27;1366x768&#x27;, &#x27;string&#x27;).split(&#x27;x&#x27;);

		if (parsedViewport.length === 2) {
			var viewportSize = {
				width: parseInt(parsedViewport[0], 10) || 1366,
				height: parseInt(parsedViewport[1], 10) || 768
			};

			this.page.viewportSize = viewportSize;

			this.on(&#x27;init&#x27;, function() {
				self.page.evaluate(function(viewportSize) {
					try {
						window.screen = {
							width: viewportSize.width,
							height: viewportSize.height,
							availWidth: viewportSize.width,
							availHeight: viewportSize.height,
							availLeft: 0,
							availTop: 0,
							colorDepth: 24,
							pixelDepth: 24
						};
					} catch (ex) {
						// SlimmerJS complains: &#x22;Error: setting a property that has only a getter&#x22;
					}
				}, viewportSize);
			});
		}

		// setup user agent /  --user-agent=custom-agent
		this.page.settings.userAgent = this.getParam(&#x27;user-agent&#x27;);

		// disable JavaScript on the page that will be loaded
		if (this.disableJs) {
			this.page.settings.javascriptEnabled = false;
			this.log(&#x27;JavaScript execution disabled by --disable-js!&#x27;);
		}

		// print out debug messages
		this.log(&#x27;Opening &#x3c;%s&#x3e;...&#x27;, this.url);
		this.log(&#x27;Using %s as user agent&#x27;, this.page.settings.userAgent);
		this.log(&#x27;Viewport set to %d x %d&#x27;, this.page.viewportSize.width, this.page.viewportSize.height);

		// bind basic events
		this.page.onInitialized = this.proxy(this.onInitialized);
		this.page.onLoadStarted = this.proxy(this.onLoadStarted);
		this.page.onLoadFinished = this.proxy(this.onLoadFinished);
		this.page.onResourceRequested = this.proxy(this.onResourceRequested);
		this.page.onResourceReceived = this.proxy(this.onResourceReceived);

		// debug
		this.page.onAlert = this.proxy(this.onAlert);
		this.page.onConfirm = this.proxy(this.onConfirm);
		this.page.onPrompt = this.proxy(this.onPrompt);
		this.page.onConsoleMessage = this.proxy(this.onConsoleMessage);
		this.page.onCallback = this.proxy(this.onCallback);
		this.page.onError = this.proxy(this.onError);

		this.initLoadingProgress();

		// do not wait for any requests, stop immediately after onload event (issue #513)
		if (this.getParam(&#x27;stop-at-onload&#x27;, false) === true) {
			this.log(&#x27;stop-at-onload: --stop-at-onload passed, will stop immediately after onload event&#x27;);
		} else {
			// observe HTTP requests
			// finish when the last request is completed + one second timeout
			this.reportQueue.push(function(done) {
				var currentRequests = 0,
					requestsUrls = {},
					onFinished = function(entry) {
						currentRequests--;
						delete requestsUrls[entry.url];

						if (currentRequests &#x3c; 1) {
							timeoutId = setTimeout(function() {
								done();
							}, 1000);
						}
					},
					timeoutId;

				// update HTTP requests counter
				self.on(&#x27;send&#x27;, function(entry) {
					clearTimeout(timeoutId);

					currentRequests++;
					requestsUrls[entry.url] = true;
				});

				self.on(&#x27;recv&#x27;, onFinished);
				self.on(&#x27;abort&#x27;, onFinished);

				// add debug info about pending responses (issue #216)
				self.on(&#x27;timeout&#x27;, function() {
					var timedOutRequests = Object.keys(requestsUrls);

					self.log(&#x27;Timeout: gave up waiting for %d HTTP response(s): &#x3c;%s&#x3e;&#x27;, currentRequests, timedOutRequests.join(&#x27;&#x3e;, &#x3c;&#x27;));

					// emit timed out requests as a fake metric (#539)
					self.results.setMetric(&#x27;requestsWithTimeout&#x27;, timedOutRequests.length);

					timedOutRequests.forEach(function(url) {
						self.results.addOffender(&#x27;requestsWithTimeout&#x27;, url);
					});
				});

				// always register the metric (issue #581)
				self.results.setMetric(&#x27;requestsWithTimeout&#x27;, 0);
			});
		}

		this.reportQueue.push(function(done) {
			self.on(&#x27;loadFinished&#x27;, done);
		});

		// generate a report when all jobs are done
		this.reportQueue.done(this.report, this);

		// last time changes?
		this.emitInternal(&#x27;pageBeforeOpen&#x27;, this.page); // @desc page.open ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.phantomas.prototype.runScript" id="apidoc.element.phantomas.phantomas.prototype.runScript">
        function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>runScript
        <span class="apidocSignatureSpan">(script, args, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">runScript = function (script, args, callback) {
		var execFile = require(&#x22;child_process&#x22;).execFile,
			fs = require(&#x27;fs&#x27;),
			osName = require(&#x27;system&#x27;).os.name, // linux / windows
			start = Date.now(),
			self = this;

		if (typeof args === &#x27;function&#x27;) {
			callback = args;
		}

		// execFile(file, args, options, callback)
		// @see https://github.com/ariya/phantomjs/wiki/API-Reference-ChildProcess
		args = args || [];

		// handle relative paths to binaries (issue #672)
		if (!fs.isAbsolute(script)) {
			script = this.dir + script;
		}

		// Windows fix: escape &#x27;&#x26;&#x27; (#587)
		// @see http://superuser.com/questions/550048/is-there-an-escape-for-character-in-the-command-prompt
		if (osName === &#x27;windows&#x27;) {
			args = args.map(function(arg) {
				return arg.replace(/&#x26;/g, &#x27;^^^$&#x26;&#x27;); // $&#x26; - Inserts the matched substring
			});
		}

		// always wait for runScript to finish (issue #417)
		this.reportQueue.push(function(done) {
			var ctx, pid;

			ctx = execFile(script, args, null, function(err, stdout, stderr) {
				var time = Date.now() - start;
				var result = stderr !== &#x22;&#x22; ? stderr : stdout;

				if (err || stderr) {
					var errMessage = (err || stderr || &#x27;unknown error&#x27;).trim();
					self.log(&#x27;runScript: pid #%d failed - %s (took %d ms)!&#x27;, pid, errMessage, time);

					callback(errMessage, result);

					done();
					return;
				} else if (!pid) {
					self.log(&#x27;runScript: failed running %s %s!&#x27;, script, args.join(&#x27; &#x27;));

					done();
					return;
				} else {
					self.log(&#x27;runScript: pid #%d done (took %d ms)&#x27;, pid, time);
				}

				// (try to) parse JSON-encoded output
				try {
					result = JSON.parse(stdout);
				} catch (ex) {
					self.log(&#x27;runScript: JSON parsing failed! - %s&#x27;, ex);
					err = ex;
				}

				callback(err, result);

				done();
			});

			pid = ctx.pid;

			if (pid) {
				self.log(&#x27;runScript: %s %s (pid #%d)&#x27;, script, args.join(&#x27; &#x27;), pid);
			} else {
				done();
			}
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.phantomas.prototype.setMarkerMetric" id="apidoc.element.phantomas.phantomas.prototype.setMarkerMetric">
        function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>setMarkerMetric
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setMarkerMetric = function (name) {
		var now = Date.now(),
			value = now - this.responseEndTime;

		if (typeof this.responseEndTime === &#x27;undefined&#x27;) {
			throw &#x27;setMarkerMetric() called before responseEnd event!&#x27;;
		}

		this.setMetric(name, value, true /* isFinal */ );
		return value;
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
				break;

			case &#x27;addToAvgMetric&#x27;:
				this.addToAvgMetric(data.name, data.value);
				break;

			case &#x27;setMarkerMetric&#x27;:
				this.<span class="apidocCodeKeywordSpan">setMarkerMetric</span>(data.name);
				break;

			case &#x27;addOffender&#x27;:
				this.addOffender.apply(this, data);
				break;

			case &#x27;emit&#x27;:
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.phantomas.prototype.setMetric" id="apidoc.element.phantomas.phantomas.prototype.setMetric">
        function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>setMetric
        <span class="apidocSignatureSpan">(name, value, isFinal)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setMetric = function (name, value, isFinal) {
		value = typeof value === &#x27;string&#x27; ? value : (value || 0); // set to zero if undefined / null is provided
		this.results.setMetric(name, value);

		// trigger an event when the metric value is said to be final (isse #240)
		if (isFinal === true) {
			this.emit(&#x27;metric&#x27;, name, value); // @desc the metric is given the final value
		}
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
				// add debug info about pending responses (issue #216)
				self.on(&#x27;timeout&#x27;, function() {
					var timedOutRequests = Object.keys(requestsUrls);

					self.log(&#x27;Timeout: gave up waiting for %d HTTP response(s): &#x3c;%s&#x3e;&#x27;, currentRequests, timedOutRequests.join
(&#x27;&#x3e;, &#x3c;&#x27;));

					// emit timed out requests as a fake metric (#539)
					self.results.<span class="apidocCodeKeywordSpan">setMetric</span>(&#x27;requestsWithTimeout&#x27;, timedOutRequests.length);

					timedOutRequests.forEach(function(url) {
						self.results.addOffender(&#x27;requestsWithTimeout&#x27;, url);
					});
				});

				// always register the metric (issue #581)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.phantomas.prototype.setMetricEvaluate" id="apidoc.element.phantomas.phantomas.prototype.setMetricEvaluate">
        function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>setMetricEvaluate
        <span class="apidocSignatureSpan">(name, fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setMetricEvaluate = function (name, fn) {
		this.setMetric(name, this.page.evaluate(fn), true /* isFinal */ );
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.phantomas.prototype.tearDown" id="apidoc.element.phantomas.phantomas.prototype.tearDown">
        function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>tearDown
        <span class="apidocSignatureSpan">(exitCode, msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">tearDown = function (exitCode, msg) {
		exitCode = exitCode || EXIT_SUCCESS;

		if (exitCode &#x3e; 0) {
			this.log(&#x27;Exiting with code #%d%s!&#x27;, exitCode, msg ? &#x27; (&#x27; + msg + &#x27;)&#x27; : &#x27;&#x27;);
		}

		this.emit(&#x27;exit&#x27;, exitCode, msg);
		this.page.close();

		phantom.exit(exitCode);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

		// emit results in JSON
		var formatter = require(&#x27;./formatter&#x27;);
		this.emit(&#x27;json&#x27;, formatter(this.results));

		// handle timeouts (issue #129)
		if (this.timedOut) {
			this.<span class="apidocCodeKeywordSpan">tearDown</span>(EXIT_TIMED_OUT, &#x27;Timeout&#x27;);
			return;
		}

		// asserts handling
		var failedAsserts = this.results.getFailedAsserts(),
			failedAssertsCnt = failedAsserts.length;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.phantomas.prototype.tmpdir" id="apidoc.element.phantomas.phantomas.prototype.tmpdir">
        function <span class="apidocSignatureSpan">phantomas.phantomas.prototype.</span>tmpdir
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">tmpdir = function () {
		// example: /tmp/phantomas/58aea8b5-2c97-48ee-9885-fcd81d38561f/
		return require(&#x27;system&#x27;).env.PHANTOMAS_TMP_DIR;
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.phantomas.stats" id="apidoc.module.phantomas.stats">module phantomas.stats</a></h1>


    <h2>
        <a href="#apidoc.element.phantomas.stats.stats" id="apidoc.element.phantomas.stats.stats">
        function <span class="apidocSignatureSpan">phantomas.</span>stats
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function stats() {
	<span class="apidocCodeCommentSpan">/* jshint validthis: true */
</span>	// use pushMetrics() to add results for each run
	this.metrics = [];
	this.runs = 0;

	// stats to be calculated
	// @see https://github.com/bluesmoon/node-faststats
	this.stats = {
		min: function(values) {
			return values.range()[0];
		},
		max: function(values) {
			return values.range()[1];
		},
		average: function(values) {
			return values.amean().toFixed(2);
		},
		median: function(values) {
			return values.median().toFixed(2);
		},
		stddev: function(values) {
			return values.stddev().toFixed(2);
		}
	};

	this.statsNames = Object.keys(this.stats);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.phantomas.stats.prototype" id="apidoc.module.phantomas.stats.prototype">module phantomas.stats.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.phantomas.stats.prototype.getAvailableStats" id="apidoc.element.phantomas.stats.prototype.getAvailableStats">
        function <span class="apidocSignatureSpan">phantomas.stats.prototype.</span>getAvailableStats
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getAvailableStats = function () {
	return this.statsNames;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

		if (typeof value === &#x27;number&#x27;) {
			values.push(this.metrics[i][metricName]);
		}
	}

	// apply stats functions
	this.<span class="apidocCodeKeywordSpan">getAvailableStats</span>().forEach(function(fnName) {
		stats[fnName] = parseFloat(this.stats[fnName](values));
	}, this);

	return stats;
};

stats.prototype.getAvailableStats = function() {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.stats.prototype.getMetricStats" id="apidoc.element.phantomas.stats.prototype.getMetricStats">
        function <span class="apidocSignatureSpan">phantomas.stats.prototype.</span>getMetricStats
        <span class="apidocSignatureSpan">(metricName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getMetricStats = function (metricName) {
	var i,
		stats = {},
		value,
		values = new Stats();

	for (i = 0; i &#x3c; this.runs; i++) {
		value = this.metrics[i][metricName];

		if (typeof value === &#x27;number&#x27;) {
			values.push(this.metrics[i][metricName]);
		}
	}

	// apply stats functions
	this.getAvailableStats().forEach(function(fnName) {
		stats[fnName] = parseFloat(this.stats[fnName](values));
	}, this);

	return stats;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

				// generate metrics stats (issue #285)
				for (var i = 0, runs = results.length; i &#x3c; runs; i++) {
					stats.pushMetrics(results[i].getMetrics());
				}

				stats.getMetrics().forEach(function(metricName) {
					res.stats[metricName] = stats.<span class="apidocCodeKeywordSpan">getMetricStats</span>(metricName);
				});
			}

			// -R json:pretty
			if (reporterOptions.pretty === true) {
				return JSON.stringify(res, null, 2);
			} else {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.stats.prototype.getMetrics" id="apidoc.element.phantomas.stats.prototype.getMetrics">
        function <span class="apidocSignatureSpan">phantomas.stats.prototype.</span>getMetrics
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getMetrics = function () {
	if (this.runs &#x3e; 0) {
		return Object.keys(this.metrics[0]);
	} else {
		return [];
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 */
&#x27;use strict&#x27;;

module.exports = function(results) {
	var res = {
		generator: results.getGenerator(),
		url: results.getUrl(),
		metrics: results.<span class="apidocCodeKeywordSpan">getMetrics</span>(),
		offenders: results.getAllOffenders(),
		asserts: false
	};

	// add asserts
	var asserts = results.getAsserts();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.phantomas.stats.prototype.pushMetrics" id="apidoc.element.phantomas.stats.prototype.pushMetrics">
        function <span class="apidocSignatureSpan">phantomas.stats.prototype.</span>pushMetrics
        <span class="apidocSignatureSpan">(metrics)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">pushMetrics = function (metrics) {
	this.metrics.push(metrics);
	this.runs++;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
						return formatSingleRunResults(run);
					}),
					stats: {}
				};

				// generate metrics stats (issue #285)
				for (var i = 0, runs = results.length; i &#x3c; runs; i++) {
					stats.<span class="apidocCodeKeywordSpan">pushMetrics</span>(results[i].getMetrics());
				}

				stats.getMetrics().forEach(function(metricName) {
					res.stats[metricName] = stats.getMetricStats(metricName);
				});
			}
...</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
